<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Star Dust CYOA</title>
  <link rel="stylesheet" href="styles.css">
  <link href='https://fonts.googleapis.com/css?family=Roboto' rel='stylesheet'>
  
</head>
<body>

  <script>
    const player = { //collect the pre-requisites in the player
      credits: 0, 
      fleetSize: 0, //IF fleetsize is zero, can't choose hulls
      skills: [],
      gear: [],
      scenario: [],
      choices: [],
    };

    const ship = {
      spinalMount: 0,
      broadSideMount: 0,
      pointDefenseMount: 0,
      hull: "fighter", 
      hangarSpace: 0,
      navigation: 0, 
      hullArmor: 0,
      shieldStr: 0,
      length: 0,
      maxCrew: 0,
      crewSize: 0,
      extraRooms: 0,
      energyUse: 1,
      energySystem: "solar", 
      ai: "winston",
      commandMods: "cool paint job",
    };

  </script>
  
    <div>
    <h1>Star Dust: Reloaded + Unofficial DLC</h1>
    <h2>Original by StardustAnon</h2>
    <h2>interactive by IndoTort</h2>
  </div>

  <div>
    <span class="image-container"><image src="/Images/Beatrice R&D.webp">
        <div style="border: 3px solid rgb(177, 59, 255); background-color: rgb(71, 19, 150, 0.4); border-radius: 15px;">
            <span style="margin-top:5px; margin-bottom:5px;">
            <p style="margin-left: 5px; margin-right: 5px; text-align: left; justify-content: center;">Well, you've finally made it. After a long trip across the stars, you've arrived at the ever-popular Stardust Space Station; 
            a massive 100 square-kilometre hunk of metal orbiting a deadbeat planet. Pirate and Federation goons alike abide by the station's cease-fire rules, 
            and since this station is situated in quite literally the centre of civilized space, you can find all types of people here. You're here to start your 
            galactic quest (whatever that is), and to do that you will need a ship. You might even buy multiple, plus a ship crew, your ship's weapons... 
            you might need a calculator for this. Secretively, you pull up your holographic wallet and check to make sure that-yep, you can buy a ship.</p>
            </span>
        </div>
    </span>
    </div>

    <!-- Give this container a new class to control its flex behavior -->
    <div>
        <div>
            <div>
            <h1>Lore</h1>
            <p s>
            </div>
        </div>
        <div style="display:flex; flex-direction:row; flex-wrap:wrap;">
            <div class="pseudoChoice">
            <span>
                <img src="/Images/Beatrice R&D.webp">
                <span style="text-align: left;">
                    <h3>Ship Supremacy</h3>
                    <p>a destroyer can blockade a defenseless <b>planet</b> forever until relieved</p>
                    <p>a fleet can blockade a defenseless <b>system</b> forever until relieved </p>
                    <p>a single destroyer can glass a habitable planet given the planet's defenseless and there is enough ammunition </p></span>
            </span></div>
            <div class="pseudoChoice">
            <span>
                <img src="/Images/Beatrice R&D.webp">
                <span style="text-align: left; "><h3>Cost of a Ship</h3><p>A dreadnought costs
                the annual GDP of IRL Earth(2025), assuming Earth have all the necessary materials, manpower, technology, knowhow and machinery.</p>
                <p>Repairing ships is cheaper and easier, especially if you have an intact hull.</p> <p>The poorest planet in Stardust exceeded the GDP of IRL Earth
                2025 by 10x. </p></span>
            </span></div>
            <div class="pseudoChoice">
            <span>
                <img src="/Images/Beatrice R&D.webp">
                <span style="text-align: left; ">
                    <h3>Credits</h3>
                    <p>Each planet have their own currency, but if they want to trade with other planets or transact across systems, they use Credits.</p> <p>Credits
                    (aka Dust) is a futuristic cryptocurrency that allows absolutely fair, scam-free, untraceable trade. Everyone accepts credits, regardless of origin.</p>
                    </span>
                </span>
            </div>
            <div class="pseudoChoice">
            <span>
                <img src="/Images/Beatrice R&D.webp">
                <span style="text-align: left;"><h3>Wealth</h3>
                    <p>100 million credits = the wealth of a typical non-Luos businessman, top 1% richest person in a non-Luos planet</p>
                    <p>1 billion credits = the wealth of a typical Luos 'billionaire', top 1% in a non-Luos system.</p>
                    <p>At its height, the richest Luos citizen had a <b>net worth</b> of 1 trillion credits and the largest corporation in the Luos Syndicate had a 
                      <b>market cap</b> of 300 trillion credits.</p></span>
                </span>
            </div>     
            <div class="pseudoChoice">
            <span>
                <img src="/Images/Beatrice R&D.webp">
                <span style="text-align: left;"><h3>FTL Travel</h3><p>Most ships travel at relativistic speeds in vacuum, and use warp drives to achieve FTL speeds.
                    <p><b>How Warp Drives work:</b> when a ship activates its Warp Drive, it will enter the nearest Dark River, a Riemann manifold between two systems, and exit at the
                    end of the River.</p>
                    <p>The activation takes a minute, obvious, and detectable. No better warp drive exists.</p>
                    </span>
                </span>
            </div>
            <div class="pseudoChoice">
            <span>
                <img src="/Images/Beatrice R&D.webp">
                <span style="text-align: left;"><h3>Dark River</h3><p>The entry/exit point of a River is anywhere within a 1LY omni-radius from a known system's center. The ship(s) decides where.</p> <p>Matter cannot exist inside a Dark River without Warp Drives
                    (so no Dark River battles). Incoming matter cannot displace matter at the exit point. Space expands temporarily to accomodate incoming matter. </p> <p>Time does not flow in a Dark River, ships passing through Dark Rivers can't perceive anything, they just appear instantaneously on the
                    other side.</p></span>
                </span>
            </div>     
            <div class="pseudoChoice">
            <span>
                <img src="/Images/Beatrice R&D.webp">
                <span style="text-align: left;"><h3>Space</h3><p>Known Space: sectors that have at least 1 Dark River mapped
                <p>Unknown/Dark Space: sectors that don't have or known to have a Dark River</p>
                <p>Dead Space: sectors without any celestial bodies, ergo no Dark River</p></span>
                </span>
            </div>        
        </div>

    </div>

  <div class="section">
    
    <div class="choice" id="choice-you">You</div>
    <div class="choice" id="choice-fleet">Your Fleet</div>
    <div class="choice" id="choice-crew">Your Crew</div>
    <div class="choice" id="choice-contracts">Contracts</div>
    <div class="choice" id="choice-battle">Battle</div>
  </div>


  <!--You Section--> 
  <div class="section" id="section-you">
    
    <div >
      <span>
        <div>
          <h3>You</h3>
          Lorem ipsum dolor sit amet consectetur adipisicing elit. Illo repellendus voluptate est magni, neque tempora doloremque repellat hic, quis earum voluptatem exercitationem totam veritatis facilis quod molestiae sit ducimus odit.</div>
      </span>
    </div>

    <div class="choice" id="choice-moneysource">How'd you get the money?</div>
    <div class="choice" id="choice-sponsor">Sponsor</div>
    <div class="choice" id="choice-origin">Origins</div>
    <div class="choice" id="choice-equipment">Equipment</div>
    <div class="choice" id="choice-titles">Titles</div>
    <!--<div class="choice" id="choice-startingPos">Starting Location</div>-->
  </div>

  <!--You-How'd you get the money Section--> 
  <div class="section" id="section-moneysource">
    <div >
      <span>
        <div>
          <h3>How'd you get the Money?</h3>
          Lorem ipsum dolor sit amet consectetur adipisicing elit. Illo repellendus voluptate est magni, neque tempora doloremque repellat hic, quis earum voluptatem exercitationem totam veritatis facilis quod molestiae sit ducimus odit.</div>
      </span>
    </div>
    <div class="choice" id="choose-gambling">
      <span>
        <img src="/Images/Beatrice R&D.webp">
        <h3 style="margin-top: 0px; margin-bottom: 0px;">Gambling</h3>
        <div class="choice-cost">gain: 100 million</div>
        <p>You gambled your sister's college fund and won 100 million credits!</p>
      </span></div>
    <div class="choice" id="choose-theft"><span>
        <img src="/Images/Beatrice R&D.webp">
        <h3 style="margin-top: 0px; margin-bottom: 0px;">Theft</h3>
        <div class="choice-cost">gain: 200 million</div>
        <p>You stole mithril ores from a sizeable corporation! You're sure they won't notice. </p>
          <p>Must choose Federation civilian as hostile.</p>
      </span></div>
    <div class="choice" id="choose-invest"><span>
        <img src="/Images/Beatrice R&D.webp">
        <h3 style="margin-top: 0px; margin-bottom: 0px;">Invest</h3>
        <div class="choice-cost">gain: 250 million</div>
        <p>You invested some credits at 12 years old, gaining a CAGR of 24% for 20 years.</p>
          <p>Must choose Luos Syndicate as friendly. 
        </p>
      </span></div>
    <div class="choice" id="choose-retired"><span>
        <img src="/Images/Beatrice R&D.webp">
        <h3 style="margin-top: 0px; margin-bottom: 0px;">Retirement Fund</h3>
        <div class="choice-cost">gain: 150 million</div>
        <p>You worked for your sponsor for 20 years, eating goop and saving every penny. Now you have a sizeable 401K that you can liquedate. </p>
          <p>Gain 1 additional skill.
        </p>
      </span></div>
    <div class="choice" id="choose-sponsorScam"><span>
        <img src="/Images/Beatrice R&D.webp">
        <h3 style="margin-top: 0px; margin-bottom: 0px;">Sponsorship Scam</h3>
        <div class="choice-cost">gain: both sponsor's credits</div>
        <p>You somehow tricked two factions to sponsor you. Hope they don't discover your treachery later! </p>
          <p>Choose 2 sponsors and gain both benefits and drawbacks. 
        </p>
      </span></div>
  </div>

    <div class="section" id="section-sponsor">
      <div >
      <span>
        <div>
          <h3>Sponsor</h3>
          Lorem ipsum dolor sit amet consectetur adipisicing elit. Illo repellendus voluptate est magni, neque tempora doloremque repellat hic, quis earum voluptatem exercitationem totam veritatis facilis quod molestiae sit ducimus odit.</div>
      </span>
    </div>
    <div class="choice" id="choose-navy">
      <span>
        <img src="/Images/Beatrice R&D.webp">
        <h3 style="margin-top: 0px; margin-bottom: 0px;">Federation Navy</h3>
        <div class="choice-cost">gain: 120 million</div>
        <p>Lorem ipsum dolor sit amet, consectetur adipiscing elit. Sed do eiusmod tempor incididunt ut labore et dolore magna aliqua.</p>
      </span>
    </div>
    <div class="choice" id="choose-seal">
      <span>
        <img src="/Images/Beatrice R&D.webp">
        <h3 style="margin-top: 0px; margin-bottom: 0px;">Federation Special Forces</h3>
        <div class="choice-cost">gain: 180 million</div>
        <p>Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat.</p>
      </span>
    </div>
    <div class="choice" id="choose-civillian">
      <span>
        <img src="/Images/Beatrice R&D.webp">
        <h3 style="margin-top: 0px; margin-bottom: 0px;">Federation Civillian</h3>
        <div class="choice-cost">gain: 90 million</div>
        <p>Duis aute irure dolor in reprehenderit in voluptate velit esse cillum dolore eu fugiat nulla pariatur.</p>
      </span>
    </div>
    <div class="choice" id="choose-blackhawk">
      <span>
        <img src="/Images/Beatrice R&D.webp">
        <h3 style="margin-top: 0px; margin-bottom: 0px;">Blackhawk Elite</h3>
        <div class="choice-cost">gain: 210 million</div>
        <p>Excepteur sint occaecat cupidatat non proident, sunt in culpa qui officia deserunt mollit anim id est laborum.</p>
      </span>
    </div>
    <div class="choice" id="choose-pirates">
      <span>
        <img src="/Images/Beatrice R&D.webp">
        <h3 style="margin-top: 0px; margin-bottom: 0px;">Red Dagger Pirates</h3>
        <div class="choice-cost">gain: 130 million</div>
        <p>Sed ut perspiciatis unde omnis iste natus error sit voluptatem accusantium doloremque laudantium, totam rem aperiam.</p>
      </span>
    </div>
    <div class="choice" id="choose-luos">
      <span>
        <img src="/Images/Beatrice R&D.webp">
        <h3 style="margin-top: 0px; margin-bottom: 0px;">Luos Syndicate</h3>
        <div class="choice-cost">gain: 240 million</div>
        <p>Eaque ipsa quae ab illo inventore veritatis et quasi architecto beatae vitae dicta sunt explicabo.</p>
      </span>
    </div>
    <div class="choice" id="choose-talons">
      <span>
        <img src="/Images/Beatrice R&D.webp">
        <h3 style="margin-top: 0px; margin-bottom: 0px;">Talons</h3>
        <div class="choice-cost">gain: 160 million</div>
        <p>Nemo enim ipsam voluptatem quia voluptas sit aspernatur aut odit aut fugit, sed quia consequuntur magni dolores eos qui ratione voluptatem sequi nesciunt.</p>
      </span>
    </div>
    <div class="choice" id="choose-dustkeepers">
      <span>
        <img src="/Images/Beatrice R&D.webp">
        <h3 style="margin-top: 0px; margin-bottom: 0px;">Society of Dustkeepers</h3>
        <div class="choice-cost">gain: 190 million</div>
        <p>Neque porro quisquam est, qui dolorem ipsum quia dolor sit amet, consectetur, adipisci velit, sed quia non numquam eius modi tempora incidunt ut labore et dolore magnam aliquam quaerat voluptatem.</p>
      </span>
    </div>
    <div class="choice" id="choose-gazers">
      <span>
        <img src="/Images/Beatrice R&D.webp">
        <h3 style="margin-top: 0px; margin-bottom: 0px;">Gazers</h3>
        <div class="choice-cost">gain: 110 million</div>
        <p>Ut enim ad minima veniam, quis nostrum exercitationem ullam corporis suscipit laboriosam, nisi ut aliquid ex ea commodi consequatur?</p>
      </span>
    </div>
    <div class="choice" id="choose-io">
      <span>
        <img src="/Images/Beatrice R&D.webp">
        <h3 style="margin-top: 0px; margin-bottom: 0px;">IO Security</h3>
        <div class="choice-cost">gain: 170 million</div>
        <p>Quis autem vel eum iure reprehenderit qui in ea voluptate velit esse quam nihil molestiae consequatur, vel illum qui dolorem eum fugiat quo voluptas nulla pariatur?</p>
      </span>
    </div>
    <div class="choice" id="choose-hammerhead">
      <span>
        <img src="/Images/Beatrice R&D.webp">
        <h3 style="margin-top: 0px; margin-bottom: 0px;">Hammerhead Industries</h3>
        <div class="choice-cost">gain: 200 million</div>
        <p>At vero eos et accusamus et iusto odio dignissimos ducimus qui blanditiis praesentium voluptatum deleniti atque corrupti quos dolores et quas molestias excepturi sint occaecati cupiditate non provident.</p>
      </span>
    </div>
    <div class="choice" id="choose-beatrice">
      <span>
        <img src="/Images/Beatrice R&D.webp">
        <h3 style="margin-top: 0px; margin-bottom: 0px;">Beatrice R&D</h3>
        <div class="choice-cost">gain: 220 million</div>
        <p>Similique sunt in culpa qui officia deserunt mollitia animi, id est laborum et dolorum fuga.</p>
      </span>
    </div>
    <div class="choice" id="choose-noSponsor">
      <span>
        <img src="/Images/Beatrice R&D.webp">
        <h3 style="margin-top: 0px; margin-bottom: 0px;">No Sponsor</h3>
        <div class="choice-cost">gain: 50 million</div>
        <p>Et harum quidem rerum facilis est et expedita distinctio. Nam libero tempore, cum soluta nobis est eligendi optio cumque nihil impedit quo minus id quod maxime placeat facere possimus, omnis voluptas assumenda est, omnis dolor repellendus.</p>
      </span>
    </div>
  </div>


  <!--You-Origins, this will scroll no clickable choices because too long
  dependencies: choice-origin --> 
  <div class="section" id="section-origin">
    <div id="origin-startingPos">
      <span>
        <div>
          <h3>Starting Location</h3>
          The known galaxy is approximately 200,000 LY across with 50 billion stars and planets, 50 thousand habitable systems, 5,000 earth-like planets but only 124 Known Systems. 
          There are no Dark Rivers connecting this galaxy to other galaxies. 
          So, where did you grow up?</div> <!--124 systems-->
      </span>
    </div>
    <div class= "federation-system" class="choice" >
      <span><img src="/Images/Beatrice R&D.webp">
        <h3  style="margin-top: 0px; margin-bottom: 0px;">New Terra</h3>
        <div class="choice-cost">gain: 50 million</div>
        <p>Et harum qu</span>
    </div>
    <div class= "federation-system" class="choice" ><span><img src="/Images/Beatrice R&D.webp">
        <h3 style="margin-top: 0px; margin-bottom: 0px;">Arcadia</h3>
        <div class="choice-cost">gain: 50 million</div>
        <p>Et harum qu</span></div>
    <div class="choice" ><span><img src="/Images/Beatrice R&D.webp">
        <h3 style="margin-top: 0px; margin-bottom: 0px;">Laporte</h3>
        <div class="choice-cost">gain: 50 million</div>
        <p>Et harum qu</span></div>
    <div class="choice" ><span><img src="/Images/Beatrice R&D.webp">
        <h3 style="margin-top: 0px; margin-bottom: 0px;">Dellsin</h3>
        <div class="choice-cost">gain: 50 million</div>
        <p>Et harum qu</span></div>
    <div class="choice" ><span><img src="/Images/Beatrice R&D.webp">
        <h3 style="margin-top: 0px; margin-bottom: 0px;">Wayward</h3>
        <div class="choice-cost">gain: 50 million</div>
        <p>Et harum qu</span></div>
    <div class="choice" ><span><img src="/Images/Beatrice R&D.webp">
        <h3 style="margin-top: 0px; margin-bottom: 0px;">Capitolus</h3>
        <div class="choice-cost">gain: 50 million</div>
        <p>Et harum qu</span></div>
    <div class="choice" ><span><img src="/Images/Beatrice R&D.webp">
        <h3 style="margin-top: 0px; margin-bottom: 0px;">Archer</h3>
        <div class="choice-cost">gain: 50 million</div>
        <p>Et harum qu</span></div>
    <div class="choice" ><span><img src="/Images/Beatrice R&D.webp">
        <h3 style="margin-top: 0px; margin-bottom: 0px;">Ysgard</h3>
        <div class="choice-cost">gain: 50 million</div>
        <p>Et harum qu</span></div>
    <div class="choice" ><span><img src="/Images/Beatrice R&D.webp">
        <h3 style="margin-top: 0px; margin-bottom: 0px;">Ragnarok</h3>
        <div class="choice-cost">gain: 50 million</div>
        <p>Et harum qu</span></div>
    <div class="choice" ><span><img src="/Images/Beatrice R&D.webp">
        <h3 style="margin-top: 0px; margin-bottom: 0px;">Valhalla</h3>
        <div class="choice-cost">gain: 50 million</div>
        <p>Et harum qu</span></div>
    <div class="choice" ><span><img src="/Images/Beatrice R&D.webp">
        <h3 style="margin-top: 0px; margin-bottom: 0px;">Talon Prime</h3>
        <div class="choice-cost">gain: 50 million</div>
        <p>Et harum qu</span></div>
    <div class="choice" ><span><img src="/Images/Beatrice R&D.webp">
        <h3 style="margin-top: 0px; margin-bottom: 0px;">Zona</h3>
        <div class="choice-cost">gain: 50 million</div>
        <p>Et harum qu</span></div>
    <div class="choice" ><span><img src="/Images/Beatrice R&D.webp">
        <h3 style="margin-top: 0px; margin-bottom: 0px;">Valhalla</h3>
        <div class="choice-cost">gain: 50 million</div>
        <p>Et harum qu</span></div>
    <div class="choice" ><span><img src="/Images/Beatrice R&D.webp">
        <h3 style="margin-top: 0px; margin-bottom: 0px;">Valhalla</h3>
        <div class="choice-cost">gain: 50 million</div>
        <p>Et harum qu</span></div>
    <div class="choice" ><span><img src="/Images/Beatrice R&D.webp">
        <h3 style="margin-top: 0px; margin-bottom: 0px;">Valhalla</h3>
        <div class="choice-cost">gain: 50 million</div>
        <p>Et harum qu</span></div>
    <div class="choice" ><span><img src="/Images/Beatrice R&D.webp">
        <h3 style="margin-top: 0px; margin-bottom: 0px;">Valhalla</h3>
        <div class="choice-cost">gain: 50 million</div>
        <p>Et harum qu</span></div>

    <div id="origin-skills">
      <div>
        <span>
          <div>
            <h3>Skills</h3>
            You may take courses during your formation years. A course lasts a semester. For every course you take, you gain 1 Skill Level up to a maximum of 20.
            You are only able to do one job in addition to being the pilot at the same time.</div>
        </span>
      </div>
    </div>
      
    <div id="origin-mana" >
      <div>
        <span>
          <div>
            <h3>Mana</h3>
            Lorem ipsum dolor sit amet consectetur adipisicing elit. Illo repellendus voluptate est magni, neque tempora doloremque repellat hic, quis earum voluptatem exercitationem totam veritatis facilis quod molestiae sit ducimus odit.</div>
        </span>
      </div>
    </div>

    <div class="choice" id="choose-mana-basic">
        <span>
          <img src="/Images/Beatrice R&D.webp">
          <h3 style="margin-top: 0px; margin-bottom: 0px;">Basic Mana Affinity</h3>
          <div class="choice-cost">cost: 60 million</div>
          <p>Gain a basic understanding of mana manipulation.</p>
        </span>
    </div>

    <div id="origin-catalyst" >
      <div>
        <span>
          <div>
            <h3>Catalyst</h3>
            Lorem ipsum dolor sit amet consectetur adipisicing elit. Illo repellendus voluptate est magni, neque tempora doloremque repellat hic, quis earum voluptatem exercitationem totam veritatis facilis quod molestiae sit ducimus odit.</div>
        </span>
      </div>
    </div>

    <div class="choice" id="choose-catalyst-minor">
      <span>
        <img src="/Images/Beatrice R&D.webp">
        <h3 style="margin-top: 0px; margin-bottom: 0px;">Minor Catalyst</h3>
        <div class="choice-cost">cost: 110 million</div>
        <p>A small boost to your mana channeling abilities.</p>
      </span>
    </div>

    <div id="origin-spell" >
      <div>
        <span>
          <div>
            <h3>Spells</h3>
            Lorem ipsum dolor sit amet consectetur adipisicing elit. Illo repellendus voluptate est magni, neque tempora doloremque repellat hic, quis earum voluptatem exercitationem totam veritatis facilis quod molestiae sit ducimus odit.</div>
        </span>
      </div>
    </div>

      
    <div class="choice" id="choose-spell-fireball">
      <span>
        <img src="/Images/Beatrice R&D.webp">
        <h3 style="margin-top: 0px; margin-bottom: 0px;">Fireball Spell</h3>
        <div class="choice-cost">cost: 130 million</div>
        <p>Learn to conjure a basic fireball for offensive purposes.</p>
      </span>
    </div>

    <div id="origin-affinities" >
      <div>
        <span>
          <div>
            <h3>Affinities</h3>
            Lorem ipsum dolor sit amet consectetur adipisicing elit. Illo repellendus voluptate est magni, neque tempora doloremque repellat hic, quis earum voluptatem exercitationem totam veritatis facilis quod molestiae sit ducimus odit.</div>
        </span>
      </div>
    </div>
     
    <div class="choice" id="choose-affinity-elemental">
      <span>
        <img src="/Images/Beatrice R&D.webp">
        <h3 style="margin-top: 0px; margin-bottom: 0px;">Elemental Affinity</h3>
        <div class="choice-cost">cost: 160 million</div>
        <p>Strengthen your connection to elemental magic.</p>
      </span>
    </div>

  </div>

  <!--You-Equipment, this will scroll no clickable choices because too long
  dependencies: choice-origin --> 
  <div class="section" id="section-equipment"> <!--TODO-->
    <div class="choice" >
      <div class = "choice-img">
        <img src="/Images/Beatrice R&D.webp" alt="Beatrice R&D">
      </div>
      <h3 class="choice-header">a</h3>
      <h4 class="choice-description">lorem ipsum</h4>
      </div>
    <div class="choice" >b</div>
    <div class="choice" >c</div>
    <div class="choice" >dt</div>
    <div class="choice" >e</div>
    <div class="choice" >g</div>
  </div>

  <!--You-Titles, this will scroll no clickable choices because too long
  dependencies: choice-origin --> 
  <div class="section" id="section-titles">
    <div id="title-titles">
      <span>
        <div>
          <h3>Titles</h3>
          Lorem ipsum dolor sit amet consectetur adipisicing elit. Illo repellendus voluptate est magni, neque tempora doloremque repellat hic, quis earum voluptatem exercitationem totam veritatis facilis quod molestiae sit ducimus odit.</div>
      </span>
    </div>
    <div style="display:none;" id="endOfTitles"></div>
  </div>

  <!--FLEET section-->
  <div class="section" id="section-fleet">
    <button class="choice" id="choice-toggle-addShip">Add Ship</button> 
    <!--IF pressed, create a ship object-->
    <div class="object-div" id="section-ship-object">Ship 1 <!--todo: if clicked populate ship choices, if unclicked remove ship choices-->
      <button title = "delete ship" class="x-button" id="delete-ship-button">X</button> <!--if clicked, delete ship object-->
      <!--upon deletion, refund all credits spent on the ship-->
      
      <button title = "edit ship name"class="edit-button" id="edit-ship-button">*</button> <!--if clicked, edit ship name-->
    </div> 
  </div>

  <!--TODO: Move this to JS-->
  <!--Ship Section-->
  <div class="section" id="section-ship">
    <div class="choice" id="choice-hull">Hull</div>
    <div class="choice" id="choice-subsystem">Subsystems</div>
    <div class="choice" id="choice-mod">Mods</div>
    <div class="choice" id="choice-weapon">Weapons</div>
    <div class="choice" id="choice-industrial">Industrial Equipment</div>
    <div class="choice" id="choice-ewar">E-War Equipment</div>
    <div class="choice" id="choice-room">Rooms & Compartments</div>
  </div>

  <div class="section" id="section-hull">
    <div class="choice" id="choice-fighter">◈Fighter◈</div>
    <div class="choice" id="choice-frigate">◈Frigate◈</div>
    <div class="choice" id="choice-destroyer">◈Destroyer◈</div>
    <div class="choice" id="choice-cruiser">◈Cruiser◈</div>
    <div class="choice" id="choice-battleship">◈Battleship◈</div>
    <div class="choice" id="choice-carrier">◈Carrier◈</div>
    <div class="choice" id="choice-dreadnought">◈Dreadnought◈</div>
  </div>

  <div id="credits-display">Credits: </div>

<script type="module">
    //formats credits to have decimals
    const formatterIntl = new Intl.NumberFormat('en-US', {
            minimumFractionDigits: 0, // Ensure no decimal places if not needed
            maximumFractionDigits: 2 // Allow up to 2 decimal places if present
    });

    function handleChoice (section, chosenChoice, creditChange, maxChoices) { //passthru section, the choice selected, the credit change, and maximum amount of choices
      const activeChoices = section.querySelectorAll('.choice.active'); //check how many choices are active
      const isChosenActive = chosenChoice.classList.contains('active');
      if (isChosenActive) {
        // If the chosen choice is already active, deactivate it (deselect)
        chosenChoice.classList.toggle('active');
        player.credits -= creditChange; // Remove credits

        //remove choice
        const index = player.choices.indexOf(chosenChoice.id);
        if(index !== -1){
          player.choices.splice(index, 1);
        }
        document.getElementById("credits-display").innerHTML = `Credits: `+ formatterIntl.format(player.credits);
      } else {
                // If the chosen choice is not active, try to activate it (select)
        if (activeChoices.length < maxChoices) { //as long as the num of active choices are less than allowed active
            chosenChoice.classList.toggle('active'); //you may toggle the selected choice to be active
            player.credits += creditChange; // and Add credits 
            player.choices.push(chosenChoice.id);
            document.getElementById("credits-display").innerHTML = `Credits: `+ formatterIntl.format(player.credits);
        }
      }
    }

    

  
  
                         
    // Get references to the elements
    const choiceLore1 = document.getElementById('choice-lore');
    const sectionLore1 = document.getElementById('section-lore');
    const choiceYou1 = document.getElementById('choice-you');
    const sectionYou1 = document.getElementById('section-you');

    const choiceMoneySource1 = document.getElementById('choice-moneysource');
    const sectionMoneySource1 = document.getElementById('section-moneysource');
    const chooseGambling1 = document.getElementById('choose-gambling'); 
    const chooseTheft1 = document.getElementById('choose-theft');
    const chooseRetired1 = document.getElementById('choose-retired');
    const chooseInvest1 = document.getElementById('choose-invest');
    const chooseSponsorScam1 = document.getElementById('choose-sponsorScam');


    const choiceOrigin1 = document.getElementById('choice-origin');
    const sectionOrigin1 = document.getElementById('section-origin');

    const choiceEquipment1 = document.getElementById('choice-equipment');
    const sectionEquipment1 = document.getElementById('section-equipment');
    

    const choiceFleet1 = document.getElementById('choice-fleet');
    const sectionFleet1 = document.getElementById('section-fleet');
    const choiceShip1 = document.getElementById('choice-toggle-addShip');
    const sectionShip1 = document.getElementById('section-ship');
    const choiceHull1 = document.getElementById('choice-hull');
    const sectionHull1 = document.getElementById('section-hull');

    const sectionToggleMap = {
    'choice-lore': 'section-lore', 
    'choice-you': 'section-you',
    'choice-moneysource':'section-moneysource',
    'choose-gambling':'section-moneysource',
    'choose-theft':'section-moneysource',
    'choose-retired':'section-moneysource',
    'choose-invest':'section-moneysource',
    'choose-sponsorScam':'section-moneysource',
    
    //sponsor
    'choice-sponsor':'section-sponsor',
    "choose-navy":'section-sponsor',
    "choose-seal":'section-sponsor',
    "choose-civillian":'section-sponsor',
    "choose-blackhawk":'section-sponsor',
    "choose-pirates":'section-sponsor',
    "choose-luos":'section-sponsor',
    "choose-talons":'section-sponsor',
    "choose-dustkeepers":'section-sponsor',
    "choose-gazers":'section-sponsor',
    "choose-io":'section-sponsor',
    "choose-hammerhead":'section-sponsor',
    "choose-beatrice":'section-sponsor',
    "choose-noSponsor":'section-sponsor',

    'choice-origin':'section-origin',

    'choice-equipment':'section-equipment',
    'choice-titles':'section-titles',

    'choice-fleet':'section-fleet',
    };

    const originToggleArray = ['origin-startingPos', 'origin-skills', 'origin-mana', 'origin-catalyst', 'origin-spell', 'origin-affinities'];


    document.addEventListener('click', (event) => {
      // Check if the clicked element (or its closest parent) has the 'choice' class
      const choiceElement = event.target.closest('.choice');
      
      if (choiceElement) {
        const id = choiceElement.id; // Get the ID of the clicked choice
        const targetSectionID = sectionToggleMap[id];
        const sectionToToggle = document.getElementById(targetSectionID);

        switch (id) {
          case 'choice-lore':
            choiceElement.classList.toggle('active'); 
            sectionToToggle.classList.toggle('visible');
            break;
          case 'choice-you':
            choiceElement.classList.toggle('active'); 
            sectionToToggle.classList.toggle('visible');
            break;
          case 'choice-fleet':
            choiceElement.classList.toggle('active'); 
            sectionToToggle.classList.toggle('visible');
            break;
          case 'choice-crew':
            //placeholder
            break;
          case 'choice-contracts':
            //placeholder
            break;
          case 'choice-battle':
            //placeholder
            break;
          case 'choice-moneysource':
            choiceElement.classList.toggle('active'); 
            sectionToToggle.classList.toggle('visible');
            break;
          case 'choice-origin':
            choiceElement.classList.toggle('active'); 
            sectionToToggle.classList.toggle('visible');
            originToggleArray.forEach(origin => {
              const elmen = document.getElementById(origin);
              elmen.classList.toggle('visible');
              });
            break;
          case 'choice-titles':
            choiceElement.classList.toggle('active'); 
            sectionToToggle.classList.toggle('visible');
            break;
          
          //make player choose ONLY 1 MONEYSOURCE
          case 'choose-gambling':
            handleChoice(sectionToToggle, choiceElement, 100000000, 1);
            break; 
          case 'choose-theft':
            handleChoice(sectionToToggle, choiceElement, 200000000, 1);
            break; 
          case 'choose-invest':
            handleChoice(sectionToToggle, choiceElement, 250000000, 1);
            break; 
          case 'choose-retired':
            handleChoice(sectionToToggle, choiceElement, 150000000, 1);
            break; 
          case 'choose-sponsorScam':
            handleChoice(sectionToToggle, choiceElement, 0, 1);
            break; 
          
          //make player choose only 1 sponsor, unless sponsorScam
          case 'choice-sponsor':
            choiceElement.classList.toggle('active'); 
            sectionToToggle.classList.toggle('visible');
            break;
          
          case 'choose-navy':
            if(player.choices.includes('choose-sponsorScam')){
              handleChoice(sectionToToggle, choiceElement, 100000000, 2);
            } 
            else {
              handleChoice(sectionToToggle, choiceElement, 100000000, 1);
            }
            break; 
          case 'choose-seal':
            if(player.choices.includes('choose-sponsorScam')){
              handleChoice(sectionToToggle, choiceElement, 100000000, 2);
            } 
            else {
              handleChoice(sectionToToggle, choiceElement, 100000000, 1);
            }
            break; 
          case 'choose-civillian':
           if(player.choices.includes('choose-sponsorScam')){
              handleChoice(sectionToToggle, choiceElement, 100000000, 2);
            } 
            else {
              handleChoice(sectionToToggle, choiceElement, 100000000, 1);
            }
            break; 
            case 'choose-blackhawk':
            if(player.choices.includes('choose-sponsorScam')){
              handleChoice(sectionToToggle, choiceElement, 100000000, 2);
            } 
            else {
              handleChoice(sectionToToggle, choiceElement, 100000000, 1);
            }
            break; 
          case 'choose-pirates':
            if(player.choices.includes('choose-sponsorScam')){
              handleChoice(sectionToToggle, choiceElement, 100000000, 2);
            } 
            else {
              handleChoice(sectionToToggle, choiceElement, 100000000, 1);
            }
            break; 
          case 'choose-talons':
            if(player.choices.includes('choose-sponsorScam')){
              handleChoice(sectionToToggle, choiceElement, 100000000, 2);
            } 
            else {
              handleChoice(sectionToToggle, choiceElement, 100000000, 1);
            }
            break;
          case 'choose-luos':
            if(player.choices.includes('choose-sponsorScam')){
              handleChoice(sectionToToggle, choiceElement, 100000000, 2);
            } 
            else {
              handleChoice(sectionToToggle, choiceElement, 100000000, 1);
            }
            break; 
          case 'choose-dustkeepers':
            if(player.choices.includes('choose-sponsorScam')){
              handleChoice(sectionToToggle, choiceElement, 100000000, 2);
            } 
            else {
              handleChoice(sectionToToggle, choiceElement, 100000000, 1);
            }
            break; 
          case 'choose-gazers':
           if(player.choices.includes('choose-sponsorScam')){
              handleChoice(sectionToToggle, choiceElement, 100000000, 2);
            } 
            else {
              handleChoice(sectionToToggle, choiceElement, 100000000, 1);
            }
            break; 
          case 'choose-io':
            if(player.choices.includes('choose-sponsorScam')){
              handleChoice(sectionToToggle, choiceElement, 100000000, 2);
            } 
            else {
              handleChoice(sectionToToggle, choiceElement, 100000000, 1);
            }
            break; 
          case 'choose-hammerhead':
            if(player.choices.includes('choose-sponsorScam')){
              handleChoice(sectionToToggle, choiceElement, 100000000, 2);
            } 
            else {
              handleChoice(sectionToToggle, choiceElement, 100000000, 1);
            }
            break;
          case 'choose-beatrice':
            if(player.choices.includes('choose-sponsorScam')){
              handleChoice(sectionToToggle, choiceElement, 100000000, 2);
            } 
            else {
              handleChoice(sectionToToggle, choiceElement, 100000000, 1);
            }
            break;   
          case 'choose-noSponsor':
            if(player.choices.includes('choose-sponsorScam')){
              handleChoice(sectionToToggle, choiceElement, 100000000, 2);
            } 
            else {
              handleChoice(sectionToToggle, choiceElement, 100000000, 1);
            }
            break;                         
        }
      } 
    });   

    choiceEquipment1.addEventListener('click', () => {
      sectionEquipment1.classList.toggle('visible');
    });    

    choiceShip1.addEventListener('click', () => {
      choiceShip1.classList.toggle('active');
      sectionShip1.classList.toggle('visible');
      sectionHull1.classList.toggle('visible');
    });

    document.getElementById("credits-display").innerHTML = `Credits: `+ formatterIntl.format(player.credits);

    //populate titles
    import {titles} from '/choiceData.js';
    //populate skills
    import {skills} from '/choiceData.js';
    //populate start position
    import {startPos} from '/choiceData.js'; //TODO

      function addChoiceDataToSection(choiceArray, choicePrefix, sectionID) {
        const targetSection = document.getElementById(sectionID);

        if (!targetSection) {
            console.error(`Target section with ID "${sectionID}" not found.`);
            return;
        }

        if (!Array.isArray(choiceArray)) {
            console.error(`Global variable "${choiceArray}" is not an array or does not exist.`);
            return;
        }
        const checkDiv = document.getElementById(`${choicePrefix}-${choiceArray[0].id}`)
        //check if section already has population
        if(document.contains(checkDiv)){
          return;
        }else {
          //if not, create new divs to populate choices
        choiceArray.forEach(item => {
            const newDiv = document.createElement("div");
            newDiv.classList.add("choice");
            // Ensure unique ID for each choice element
            newDiv.id = `${choicePrefix}-${item.id}`; 
            const newSpan = document.createElement("span");
            newDiv.appendChild(newSpan);

            // Set the src attribute using the image path from the object
            const imgElement = document.createElement('img');
            imgElement.src = item.imageSrc; 
            newSpan.appendChild(imgElement);

            // Create an h3 element for the title
            const h3Element = document.createElement('h3');
            h3Element.style.marginTop = '0px';
            h3Element.style.marginBottom = '0px';
            h3Element.textContent = item.title || 'No Title'; // Use textContent for plain text
            newSpan.appendChild(h3Element);
            
            const newSpanDiv = document.createElement("div");
            newSpanDiv.classList.add("choice-cost");
            // Determine if it's a 'gain' or 'cost' based on the item's properties or context
            // Assuming 'cost' property implies a cost, otherwise it's a gain.
            if (typeof item.cost === 'number' && item.cost >= 0) {
                newSpanDiv.innerHTML = `cost: `+formatterIntl.format(item.cost);
            } else if (typeof item.gain === 'number' && item.gain >= 0) {
                newSpanDiv.innerHTML = `gain: `+ formatterIntl.format(item.gain);
            } else {
                newSpanDiv.innerHTML = ''; // Or some default if neither is present
            }

            const prereqDiv = document.createElement("div");
            prereqDiv.classList.add("choice-prereq");
            if(!item.prerequisites.length){
              prereqDiv.innerText = 'Prerequisites: none';
            } else {
              prereqDiv.innerText = `Prerequisites: ${item.prerequisites}`;
              
            }

            const newP = document.createElement("p");
            newP.innerHTML = item.description; 
            newSpan.appendChild(newSpanDiv); 
            newSpan.appendChild(prereqDiv);
            newSpan.appendChild(newP);
            targetSection.before(newDiv); // Append to the target section
          });
        }}
    
        //make choices visible (populate)
    const choiceSkills1 = document.getElementById('origin-skills');
    const sectionSkills1 = document.getElementById('choice-origin');
    sectionSkills1.addEventListener('click', () => {
      sectionSkills1.classList.toggle('visible');
      choiceSkills1.classList.toggle('active');
      addChoiceDataToSection(skills, 'choice', 'origin-mana');
    });

    const choiceTitles1 = document.getElementById('choice-titles');
    const sectionTitles1 = document.getElementById('section-titles');
    choiceTitles1.addEventListener('click', () => {
      sectionTitles1.classList.toggle('active');
      addChoiceDataToSection(titles, 'choice', 'endOfTitles');
    });
    
    
  </script> 
</body>

<footer>
  
</footer>
</html>

