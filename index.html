<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Star Dust CYOA</title>
  <link rel="stylesheet" href="styles.css">
  <link href='https://fonts.googleapis.com/css?family=Roboto' rel='stylesheet'>

</head>

<body>

  <script>
    const player = { //collect the pre-requisites in the player
      credits: 0,
      crewNum: 0, //remaining crew slots
      fleetSize: 0, //IF fleetsize is zero, can't choose hulls
      skills: [],
      gear: [],
      scenario: [],
      choices: [],
      currentActiveShip: "", //div id
      ships: [], //array of objects
      hostiles: [], //array of strings
      frame: {},
      crew: [],
      equipmentLevel: 0,
      alignment: '',
    };

    //collect frame attributes




  </script>

  <div>
    <h1>Star Dust: Reloaded + Unofficial DLC</h1>
    <h2>Original by StardustAnon</h2>
    <h2>interactive by IndoTort</h2>
  </div>

  <div>
    <span class="image-container">
      <image style="max-width: 1200px; border-radius: 12px; border: 3px solid rgb(177, 59, 255);"
        src="https://i.imgur.com/YasCZ1V.jpeg">
        <div style="border: 3px solid rgb(177, 59, 255); background-color: rgb(71, 19, 150, 0.4); border-radius: 15px;">
          <span style="margin-top:5px; margin-bottom:5px;">
            <p style="margin-left: 5px; margin-right: 5px; text-align: left; justify-content: center;">Well, you've
              finally made it. After a long trip across the stars, you've arrived at the ever-popular Stardust Space
              Station;
              a massive 100 square-kilometre hunk of metal orbiting a deadbeat planet. Pirate and Federation goons alike
              abide by the station's cease-fire rules,
              and since this station is situated in quite literally the centre of civilized space, you can find all
              types of people here. You're here to start your
              galactic quest (whatever that is), and to do that you will need a ship. You might even buy multiple, plus
              a ship crew, your ship's weapons...
              you might need a calculator for this. Secretively, you pull up your holographic wallet and check to make
              sure that-yep, you can buy a ship.</p>
          </span>
        </div>
    </span>
  </div>

  <!-- Give this container a new class to control its flex behavior -->
  <div>
    <div>
      <div>
        <h1>Lore</h1>
        <p>
      </div>
    </div>
    <div style="display:flex; flex-direction:row; flex-wrap:wrap;">
      <div class="pseudoChoice">
        <span>
          <img src="Images/Other/Glassing of Minab - Brian Reed.webp">
          <span style="text-align: left;">
            <h3>Ship Supremacy</h3>
            <p>a destroyer can blockade a defenseless <b>planet</b> forever until relieved</p>
            <p>a fleet can blockade a defenseless <b>system</b> forever until relieved </p>
            <p>a single destroyer can glass a habitable planet given the planet's defenseless and there is enough
              ammunition </p>
          </span>
        </span>
      </div>
      <div class="pseudoChoice">
        <span>
          <img src="Images/Other/world-gdp.webp">
          <span style="text-align: left; ">
            <h3>Cost of a Ship</h3>
            <p>A dreadnought costs
              the annual GDP of IRL Earth(2025), assuming Earth have all the necessary materials, manpower, technology,
              knowhow and machinery.</p>
            <p>Repairing ships is cheaper and easier, especially if you have an intact hull.</p>
            <p>The poorest planet in Stardust exceeded the GDP of IRL Earth
              2025 by 10x. </p>
          </span>
        </span>
      </div>
      <div class="pseudoChoice">
        <span>
          <img src="Images/Other/bitcoin-symbol.webp">
          <span style="text-align: left; ">
            <h3>Credits</h3>
            <p>Each planet have their own currency, but if they want to trade with other planets or transact across
              systems, they use Credits.</p>
            <p>Credits
              (aka <b>Dust</b>) is a futuristic cryptocurrency that allows absolutely fair, scam-free, untraceable
              trade. Everyone accepts credits, regardless of origin.</p>
          </span>
        </span>
      </div>
      <div class="pseudoChoice">
        <span>
          <img src="Images/Other/salvador-dali.webp">
          <span style="text-align: left;">
            <h3>Wealth</h3>
            <p>100 million credits = the wealth of a typical non-Luos businessman, top 0.1% richest person in a non-Luos
              planet</p>
            <p>1 billion credits = the wealth of a typical Luos 'middle class', top 0.1% in a non-Luos system.</p>
            <p>At its height, the richest Luos citizen had a <b>net worth</b> of 1 trillion credits and the largest
              corporation in the Luos Syndicate had a
              <b>market cap</b> of 300 trillion credits.
            </p>
          </span>
        </span>
      </div>
      <div class="pseudoChoice">
        <span>
          <img src="Images/Other/alcubierre.webp">
          <span style="text-align: left;">
            <h3>FTL Travel</h3>
            <p>Most ships travel at relativistic speeds in vacuum, and use warp drives to achieve FTL speeds.
            <p><b>How Warp Drives work:</b> when a ship activates its Warp Drive, it will enter the nearest Dark River,
              a Calabi-Yau manifold between two systems, and exit at the
              end of the River.</p>
            <p>The activation takes a minute, obvious, and detectable. No better warp drive exists.</p>
          </span>
        </span>
      </div>
      <div class="pseudoChoice">
        <span>
          <img src="Images/Other/dark-river.webp">
          <span style="text-align: left;">
            <h3>Dark River</h3>
            <p>The entry/exit point of a River is anywhere within a 1LY omni-radius from a known system's center. The
              ship(s) decides where.</p>
            <p>Matter cannot exist inside a Dark River without Warp Drives
              (so no Dark River battles). Incoming matter cannot displace matter at the exit point. Space expands
              temporarily to accomodate incoming matter. </p>
            <p>Time does not flow in a Dark River, ships passing through Dark Rivers can't perceive anything, they just
              appear instantaneously on the
              other side.</p>
          </span>
        </span>
      </div>
      <div class="pseudoChoice">
        <span>
          <img src="Images/Other/endless-space2.webp">
          <span style="text-align: left;">
            <h3>Space</h3>
            <p>Known Space: sectors that have at least 1 Dark River mapped </p>
            <p>Unknown/Dark Space: sectors that don't have or known to have a Dark River</p>
            <p>Dead Space: sectors without any celestial bodies, ergo no Dark River</p>
          </span>
        </span>
      </div>
      <div class="pseudoChoice">
        <span>
          <img src="Images/Other/playstation-indotort-midjourney.webp">
          <span style="text-align: left;">
            <h3>Gameplay</h3>
            <p>Frame Resources, Credits, and Required Crew <b>must go to zero</b> because that's how military budget
              works! </p>
            <p>Follow the rules even if the math/mechanic doesn't work. For everything else, use common sense and
              pseudoscience! </p>
            <p>Hover on each image to see the bibliography. The format is [image title]-[author]-[source]</p>
          </span>
        </span>
      </div>
    </div>

  </div>

  <div class="section" id="section-mainpanel">

    <div class="choice" id="choice-you">You</div>
    <div class="choice" id="choice-fleet">Your Fleet</div>
    <div class="choice" id="choice-crew">Your Crew</div>
    <div class="choice" id="choice-contracts">Contracts</div>
    <div class="choice" id="choice-summary">Summary</div>
  </div>


  <!--You Section-->
  <div class="section" id="section-you">

    <div>
      <span>
        <div>
          <h3>You</h3>
          You can't afford a ship, so a sponsor funded your ship purchase, strings attached of course. Little did they
          know, you earned additional credits from secret deals, titles, and advantages. Though you were monitored,
          brainwashed, scanned and tested hundreds of times from birth, you are somehow much stronger than your sponsor
          realize.
        </div>
      </span>
    </div>

    <div class="choice" id="choice-moneysource">How'd you get the money?</div>
    <div class="choice" id="choice-sponsor">Sponsor</div>
    <div class="choice" id="choice-origin">Origins</div>
    <div class="choice" id="choice-equipment">Apocalypse Program</div>
    <div class="choice" id="choice-titles">Titles</div>

  </div>

  <!--You-How'd you get the money Section-->
  <div class="section" id="section-moneysource">
    <div style="flex-basis: 80%;">
      <span>
        <div>
          <h3>How'd you get the Money?</h3>
          On top of your paltry salary, you somehow made money on the side. How did you make it?
        </div>
      </span>
    </div>
    <div class="choice" id="choose-gambling">
      <span>
        <img src="Images/Other/gambling-midjourney.webp">
        <h3 style="margin-top: 0px; margin-bottom: 0px;">Gambling</h3>
        <div class="choice-cost">gain: 100 million</div>
        <p>You gambled your sister's college fund and won 100 million credits!</p>
      </span>
    </div>
    <div class="choice" id="choose-theft"><span>
        <img src="Images/Other/SnatchSteal-Konami.webp">
        <h3 style="margin-top: 0px; margin-bottom: 0px;">Theft</h3>
        <div class="choice-cost">gain: 200 million</div>
        <p>You stole mithril ores from a sizeable corporation! You're sure they won't notice. </p>
        <p>Must choose Federation civilian as hostile.</p>
      </span></div>
    <div class="choice" id="choose-invest"><span>
        <img src="Images/Other/Intelligent_Investor.webp">
        <h3 style="margin-top: 0px; margin-bottom: 0px;">Investment</h3>
        <div class="choice-cost">gain: 250 million</div>
        <p>You invested some credits at 12 years old, gaining a CAGR of 24% for 20 years.</p>
        <p>Must choose Luos Syndicate as friendly.
        </p>
      </span></div>
    <div class="choice" id="choose-retired"><span>
        <img src="Images/Other/retired-robot.webp">
        <h3 style="margin-top: 0px; margin-bottom: 0px;">Retirement Fund</h3>
        <div class="choice-cost">gain: 150 million</div>
        <p>You worked for your sponsor for 20 years, eating goop and saving every penny. Now you have a sizeable 401K
          that you can liquedate. </p>
        <p>Gain mercantile skill free.
        </p>
      </span></div>
    <div class="choice" id="choose-sponsorScam"><span>
        <img src="Images/Other/bubbly-Indian.webp">
        <h3 style="margin-top: 0px; margin-bottom: 0px;">Sponsorship Scam</h3>
        <div class="choice-cost">gain: both sponsor's credits</div>
        <p>You somehow tricked two factions to sponsor you. Hope they don't discover your treachery later! </p>
        <p>Choose 2 sponsors and gain both benefits and drawbacks.
        </p>
      </span></div>
  </div>

  <div class="section" id="section-sponsor">
    <div style="width: 100%;">
      <span>
        <div>
          <h3>Sponsor</h3>
          Due to the vastness of space and Special Relativity, it is hard to control fleets or captains. An order
          relayed from the capital a century ago may reach the furthest planet today. Thus, the best empires can do is
          entrust autonomy to each fleet and hope to God the captains stay loyal. You have lived with or did assignments
          for your sponsor. In exchange for their patronage, they expect you to do their bidding and destroy their
          enemies.
          You may choose one origin which will largely determine your standings and who sponsored you for the ship.
        </div>
      </span>
    </div>
    <div class="choice choice-sponsor" id="choose-navy">
      <span>
        <img src="Images/Other/federation-navy.webp">
        <h3 style="margin-top: 0px; margin-bottom: 0px;">Federation Navy</h3>
        <div class="choice-cost">gain: 311 million</div>
        <div class="hostiles">Hostiles: Red Daggers, Talons, Luos Syndicate</div>
        <p>The venerable Federation Navy is the largest military space armada in the civilized galaxy. Consisting of
          many thousands of ships across many hundreds of branches, there is simply no force capable going toe-to-toe
          with them. Granted, with such a big sovereignty, the Navy is oftentimes spread thin, mobilizing as one only
          for extreme circumstances. Training to be a part of the Navy is extensive, thorough and disciplined, but it's
          known to reward many benefits... if sailing across the stars in some of the best tech around isn't enough,
          that is.</p>
        <div class="consequence">+6m off of Federation Navy hull prices</div>
      </span>
    </div>
    <div class="choice choice-sponsor" id="choose-seal">
      <span>
        <img src="Images/Other/Federation-spec-ops.webp">
        <h3 style="margin-top: 0px; margin-bottom: 0px;">Federation Special Forces</h3>
        <div class="choice-cost">gain: 532.6 million</div>
        <div class="hostiles">Hostiles: Red Daggers, Talons, Luos Syndicate</div>
        <p>Amidst the Federation's military might are its veritable spec ops programs, and there are many to choose
          from. Everything from solving internal strife to deploying in the outer-rim systems where piracy is large is
          inclusive; your stay won't be boring. However, your identity is often concealed, your social life often thrown
          out the window, and you won't really have many people to talk to other than your brothers and sisters of the
          forces. To some, that's worth it for a handful of the best skills in the galaxy</p>
        <div class="consequence">+4m off of Triglav and Federation Navy hull prices </div>
      </span>
    </div>
    <div class="choice choice-sponsor" id="choose-civillian">
      <span>
        <img src="Images/Other/artur-sadlos-future-tokyo.webp">
        <h3 style="margin-top: 0px; margin-bottom: 0px;">Federation Civillian</h3>
        <div class="choice-cost">gain: 300 million</div>
        <div class="hostiles">Hostiles: Red Daggers</div>
        <p>Not from the military? No problem! Renowned Federation schools like Rosette University or the University of
          Arcadia don't offer pilot training without a reason, and that's just two of potentially thousands. Space-
          faring might be expensive to most people, but all it takes is a good set of skills and a healthy amount of
          credits to find yourself out of the atmos- phere. Many from the Federation venture out almost aimlessly, often
          finding themselves a part of different factions. In fact, that's how many of these factions were born.</p>
        <div class="consequence">50% off of all skills</div>
      </span>
    </div>
    <div class="choice choice-sponsor" id="choose-blackhawk">
      <span>
        <img src="Images/Other/blackhawk-operators.webp">
        <h3 style="margin-top: 0px; margin-bottom: 0px;">Blackhawk Elite</h3>
        <div class="choice-cost">gain: 500 million</div>
        <div class="hostiles">Hostiles: Red Daggers, Talons, Luos Syndicate</div>
        <p>As a collective of many mercenary groups, the Blackhawk Elites are known as some of the most elite
          mercenaries out there. They spend most of their time out in the outer rims, providing protection to those out
          of the Federation's protective reach and need it. They come into contact with bandits and pirates alike often,
          but that's the life that the Black- hawks strive for. Their society is highly militaristic, focused on
          bleeding discipline into its members because that's the type of mindset they need.</p>
        <div class="consequence">+6m off of Blackhawk Elite hull prices, +1m off all 'operator' crew </div>
      </span>
      </span>
    </div>
    <div class="choice choice-sponsor" id="choose-pirates">
      <span>
        <img src="Images/Other/Red Dagger Pirates.jpg">
        <h3 style="margin-top: 0px; margin-bottom: 0px;">Red Dagger Pirates</h3>
        <div class="choice-cost">gain: 333 million</div>
        <div class="hostiles">Hostiles: Federation, Blackhawk Elite</div>
        <p>The Red Dagger Pirates are more of a coalition of several pirate groups spanning across the entirety of the
          civilized galaxy. While each group or gang more or less operate independently, they all generally have good
          standing with each other and can collaborate when needed. When it comes time for large scale conflict, they
          have a surprising ability to unite and mobilize almost as a make-shift military group fairly quickly. They've
          established a surprisingly efficient production line and have massive networks of shipyards across the outer
          rims.</p>
        <div class="consequence">+6m off of Red Dagger Pirates hull prices </div>
      </span>
    </div>
    <div class="choice choice-sponsor" id="choose-luos">
      <span>
        <img src="Images/Other/Luos Syndicate.jpg">
        <h3 style="margin-top: 0px; margin-bottom: 0px;">Luos Syndicate</h3>
        <div class="choice-cost">gain: 1 billion</div>
        <div class="hostiles">Hostiles: Federation, Blackhawk Elite</div>
        <p>It has all come tumbling down for the Syndicate. A once large collective wealthy and powerful corporations,
          now crumbled and bombarded to dust by the recent Federation and Blackhawk galaxy-wide assault. Originally
          founded under the best of intentions while even establishing a big sovereignty and culture, corruption soon
          ran rampant, and the Syndi- cate found itself the centre of many shady trades. While not all of its members
          were inherently bad, all of its surviving corps and groups split, mainly between the feuding "Core" and
          "Outer" rings of organizations.</p>
        <div class="consequence">+4m off of Talon, Red Dagger, and Luos Syndicate hull prices</div>
      </span>
    </div>
    <div class="choice choice-sponsor" id="choose-talons">
      <span>
        <img src="Images/Other/jay-li-the chaser.webp">
        <h3 style="margin-top: 0px; margin-bottom: 0px;">Talons</h3>
        <div class="choice-cost">gain: 777 million</div>
        <div class="hostiles">Hostiles: Federation, Blackhawk Elite</div>
        <p>Not much is known about the Talons to other factions, but they tend to operate within their own unknown
          purpose. Initially labeled as a pirate group by the Federation, the Talons are known to employ some of the
          greatest skilled individuals in the galaxy. They are known for their notori- ous reputation of a classy but
          skilled and intelligent touch. Unlike other 'pirate' groups, the Talons bolster technology that could rival
          the likes of the Blackhawks and Federation Spec Ops. A Talon appearance is rare and surprising, and often an
          indicator that something's going down.</p>
        <div class="consequence">+6m off of Talon hull prices, +1m off non-hostile crew </div>
      </span>
    </div>
    <div class="choice choice-sponsor" id="choose-dustkeepers">
      <span>
        <img src="Images/Other/dustkeepers.webp">
        <h3 style="margin-top: 0px; margin-bottom: 0px;">Society of Dustkeepers</h3>
        <div class="choice-cost">gain: 640 million</div>
        <div class="hostiles">Hostiles: None</div>
        <p>"Dustkeeper" is more of a title than a faction. However, if you ever find yourself spelunking the depths of
          space in search of adventure and fortune on your lonesome, you'll also find yourself talking with others like
          yourself very often. Whether it's for the thrill of finding things never seen before or for the heaps of
          credits that ancient Herald artifacts can bring you, to others, it's all the same; you're a Dustkeeper. Maybe
          you travel alone, or maybe you travel with a band of like-minded people. Your purpose is seldom spoken, even
          if you get asked about it a lot.</p>
        <div class="consequence">+1m off of weapons tier 2 or higher </div>
      </span>
    </div>
    <div class="choice choice-sponsor" id="choose-gazers">
      <span>
        <img src="Images/Other/james bond.webp">
        <h3 style="margin-top: 0px; margin-bottom: 0px;">Gazers</h3>
        <div class="choice-cost">gain: 0</div>
        <p>The Gazers are a myth. They don't exist!</p>
        <div class="consequence">FREE spells, +4m off of Blackhawk Elite, Talon, and Triglav hull prices </div>
      </span>
    </div>
    <div class="choice choice-sponsor" id="choose-io">
      <span>
        <img src="Images/Other/mrRobotUSANetwork.jpg">
        <h3 style="margin-top: 0px; margin-bottom: 0px;">IO Security</h3>
        <div class="choice-cost">gain: 400 million</div>
        <div class="hostiles">Hostiles: Hammerhead Industries</div>
        <p>A group of anonymous hackers stole billions from every bank in the galaxy, known as the 'Eat the Rich' hack.
          The next day, a fleet of autonomous ships attacked Hammerhead's homeworld, though they were swiftly defeated,
          the boarding crew found not a single soul on board. Some say IO is a super AI, some say they are disgruntled
          leftists. Nevertheless, they are actively recruiting people on the Dark Web. </p>
        <div class="consequence">+2m off of all electronic warfare cost to a min. of 100k</div>
      </span>
    </div>
    <div class="choice choice-sponsor" id="choose-hammerhead">
      <span>
        <img src="Images/Other/hammerhead industries.webp">
        <h3 style="margin-top: 0px; margin-bottom: 0px;">Hammerhead Industries</h3>
        <div class="choice-cost">gain: 800 million</div>
        <div class="hostiles">Hostiles: IO Security</div>
        <p>As the largest hardware manufacturer in the galaxy, Hammerhead Industries have established their own colonies
          that are home to a lot of productive and skilled individuals. This multi-trillion credit company produces many
          much-needed mechanics and engineers for the ever expanding industry of space faring and exploration. Their
          ships are everywhere, used by civilians, security groups, PMCs, and bandits alike. Show your skills as a down
          and dirty soot-lover and it won't be hard to strike gold in the industry world.</p>
        <div class="consequence">+1m off to all rooms</div>
      </span>
    </div>
    <div class="choice choice-sponsor" id="choose-beatrice">
      <span>
        <img src="Images/Other/Beatrice-research-dev.webp">
        <h3 style="margin-top: 0px; margin-bottom: 0px;">Beatrice R&D</h3>
        <div class="choice-cost">gain: 320 million</div>
        <p>Easily the most renowned scientific research company, Beatrice R&D is one of the reasons that space
          colonization has become a thing. Full of brilliant minds that spearhead the advancement of sciences, they've
          become so efficient at space exploration and terraforming that they have become self-sustaining colony on
          their own. After earning their independence from the Federation, Beatrice R&D continues to earn its respect
          from all entities. If not for their passive nature, then for their promise for taking humanity into new age
          upon new age.</p>
        <div class="consequence">+1m off of all drones and industrial equipment to a minimum of 1m cost</div>
      </span>
    </div>
    <div class="choice choice-sponsor" id="choose-noSponsor">
      <span>
        <img src="Images/Other/Beatrice R&D.webp">
        <h3 style="margin-top: 0px; margin-bottom: 0px;">No Sponsor</h3>
        <div class="choice-cost">gain: 150 million</div>
        <div class="hostiles">Hostiles: none</div>
        <p>Perhaps you want to have your own origins. How did you inherit the millions of credits? Who are your friends,
          and who are your enemies? You can choose what alignment you wish. This is your adventure, so make it your own.
        </p>
        <div class="consequence">+3m off of all ships</div>
      </span>
    </div>
  </div>


  <!--You-Origins, this will scroll no clickable choices because too long
  dependencies: choice-origin -->
  <div class="section" id="section-origin"> <!--idea: ban hostiles, difficulty-->
    <div id="origin-startingPos">
      <span>
        <div>
          <h3>Starting Location</h3>
          The known galaxy is approximately 200,000 LY across with 50 billion stars and planets, 50 thousand habitable
          systems, 5,000 earth-like planets but only 124 Known Systems. So, where did you grow up?
        </div> <!--124 systems-->
      </span>
    </div>

    <img src="Images\Other\star map.webp" id="origin-starMap"
      style="height: max-content; flex-basis:100%; border-radius: 20px; opacity: 67%; max-width: 100%;">
    <!--124 systems-->


    <div class="federation-system choice section-startingPos" id="choose-new-terra">
      <span><img src="Images/Places/newterra-indotort-midjourney.webp">
        <h3 style="margin-top: 0px; margin-bottom: 0px;">New Terra</h3>
        <div class="choice-cost">tax: 50 million</div>
        <p style="font-size: medium;">The crown jewel of the Federation, New Terra is what's considered as the 'core' of
          the sovereignty. While it contains some of the most important people to the Federation, it is also considered
          to be the safest place in the entire galaxy. Wealth prospers here, and provides ample opportunity to those
          seeking it. <b>Pay tax if you're not hostile</b>
        </p>
      </span>
    </div>
    <div class="federation-system choice section-startingPos" id="choose-arcadia"><span><img
          src="Images/Places/arcadia-indotort-midjourney.webp">
        <h3 style="margin-top: 0px; margin-bottom: 0px;">Arcadia</h3>
        <div class="choice-cost"></div>
        <p>Situated in the 'galactic far east' of the Federation, Arcadia is both loyal and yet distant to New Terra
          and its influence. It's much more modest and is a lot more approachable to outside entities willing to trade.
          It has three space stations orbiting different planets,
        </p>
      </span></div>
    <div class="federation-system choice section-startingPos" id="choose-laporte"><span><img
          src="Images/Places/laporte-indotort-midjourney.webp">
        <h3 style="margin-top: 0px; margin-bottom: 0px;">Laporte</h3>
        <div class="choice-cost">tax: 25 million</div>
        <p>Laporte is less of a trade hub and more of a cargo gathering of freighters ferrying goods to and from New
          Terra. It has one station orbiting the single civillized planet, and is open to the public for trade. With all
          of the mass of products available, prices are fairly desirable here.
        </p>
      </span></div>
    <div class="federation-system choice section-startingPos" id="choose-dellsin"><span><img
          src="Images/Places/Dellsin-indotort-midjourney.webp">
        <h3 style="margin-top: 0px; margin-bottom: 0px;">Dellsin</h3>
        <div class="choice-cost">tax: 25 million</div>
        <p>Dellsin is considered to be within the 'outer reaches' of the Federation, and like Arcadia, it sees a great
          mix of people coming and going. It is surrounded by several star systems in which planets are civillized with
          great urban cities.
        </p>
      </span></div>
    <div class="federation-system choice section-startingPos" id="choose-wayward"><span><img
          src="Images/Places/wayward-indotort-midjourney.webp">
        <h3 style="margin-top: 0px; margin-bottom: 0px;">Wayward</h3>
        <div class="choice-cost">gain: 50 million</div>
        <p>At the back of the Federation is Wayward, the Federation's top industry system that provides ore for almost
          half of the galactic nation. The surrounding systems are dotted with a network of ore-rich mining facilities
          with an almost endless supply. Wayward is home to some of the Federation's most prevalent corporations of
          industry.
        </p>
      </span></div>
    <div class="independent-system choice section-startingPos" id="choose-capitolus"><span><img
          src="Images/Places/capitolus-indotort-midjourney.webp">
        <h3 style="margin-top: 0px; margin-bottom: 0px;">Capitolus</h3>
        <div class="choice-cost"></div>
        <p>Capitolus sees a lot more solitude than the other trade hub systems
          of the Federation. It's dubbed as the "Centre of Knowledge", a gathering of the civilized galaxy's most
          brilliant minds. Top research and development firms such as Beatrice R&D and Pulsar Inc. trace their roots to
          this system.
        </p>
      </span></div>
    <div class="federation-system choice section-startingPos" id="choose-archer"><span><img
          src="Images/Places/archer-indotort-midjourney.webp">
        <h3 style="margin-top: 0px; margin-bottom: 0px;">Archer</h3>
        <div class="choice-cost">gain: 50 million</div>
        <p>As the Federation's top military staging system, Archer houses the largest legions of the Federation Navy
          Armada-the strongest mili-
          tary power in the civilized galaxy. It has access to many routes that give them the leverage to insert almost
          anywhere in the outer rims.
          <b>Gain credits if hostile to Federation</b>
        </p>
      </span></div>
    <div class="blackhawk-system choice section-startingPos" id="choose-ysgard"><span><img
          src="Images/Places/ysgard-indotort-midjourney.webp">
        <h3 style="margin-top: 0px; margin-bottom: 0px;">Ysgard</h3>
        <div class="choice-cost">tax: 50 million</div>
        <p>Facing constant threats from powerful pirate organizations where the Federation was not as present, groups
          like the Black- hawk Elite arose. Ysgard was the
          first system that became the Blackhawk Elite's growing sovereignty, and as they drove pirate influence out,
          the Blackhawks captured more. Ysgard and the surrounding systems acted as a powerful shield for the Federation
          against the growing threat of the time that was the Luos Syndicate.
        </p>
      </span></div>
    <div class="blackhawk-system choice section-startingPos" id="choose-ragnarok"><span><img
          src="Images/Places/ragnarok-indotort-midjourney.webp">
        <h3 style="margin-top: 0px; margin-bottom: 0px;">Ragnarok</h3>
        <div class="choice-cost">gain: 50 million</div>
        <p>Seeking to take their righteousness further into dangerous territory, the Blackhawk Elites established
          Ragnarök, their second stronghold system. For decades, the Blackhawks defended Ragnarok fiercely, and through
          lots of blood, sweat, and tears, used Ragnarök's leverage to push far into pirate territory.
        </p>
      </span></div>
    <div class="blackhawk-system choice section-startingPos" id="choose-valhalla"><span><img
          src="Images/Places/valhalla-indotort-midjourney.webp">
        <h3 style="margin-top: 0px; margin-bottom: 0px;">Valhalla</h3>
        <div class="choice-cost">gain: 50 million</div>
        <p>The Blackhawk Elite were unstoppable and shredded through their enemies with ease... until they
          came upon the Talons. Matching them in power, the Blackhawks were stalled and thus were forced
          to settle down in Valhalla. Even after the Pirate Coalition War where much Blackhawk territory
          was lost and after the fall of the Luos Syndicate, Valhalla and Ragnarök remain defended with
          unbreakable, iron might.
        </p>
      </span></div>
    <div class="talon-system choice section-startingPos" id="choose-talon-prime"><span><img
          src="Images/Places/talonprime-indotort-midjourney.webp">
        <h3 style="margin-top: 0px; margin-bottom: 0px;">Talon Prime</h3>
        <div class="choice-cost">gain: 50 million</div>
        <p> Only the Talons know the true origins of how they came to be, but the notorious, high-class society held
          their small sovereignty for a
          very long time, long before they were first discovered by the Blackhawk Elite. Talon Prime is everything
          opposite of what you
          would expect of an outer-ring nation; it's clean, it's professional, and it's pleasant to live in.
        <p>It's often said that the Talons have a sense of humour despite their professional appearance-they still,
          somehow, retain their outer-rim mentality and like to pick on those who take themselves too seriously.</p>
        </p>
      </span></div>
    <div class="talon-system choice section-startingPos" id="choose-zona"><span><img
          src="Images/Places/zona-indotort-midjourney.webp">
        <h3 style="margin-top: 0px; margin-bottom: 0px;">Zona</h3>
        <div class="choice-cost">gain: 50 million</div>
        <p>The source of the Talon power is in all of which are open to the public. Their access to valuable, high-grade
          ore, and Zona is abundant in this, on top of being of a rare breed of star systems in which a planet is
          habitable. Using technology likely stolen from the Federation and possibly Pulsar Inc., the Talons are able to
          self-sustain their small sovereignty with surprising efficiency.
        </p>
      </span></div>
    <div class="pirate-system choice section-startingPos" id="choose-ten-cred"><span><img
          src="Images/Places/tencred-indotort-midjourney.webp">
        <h3 style="margin-top: 0px; margin-bottom: 0px;">Ten Cred</h3>
        <div class="choice-cost">gain: 50 million</div>
        <p>Despite being one of the (former)
          smaller pirate groups, the Red Daggers are also one of the oldest. After the Pirate Coalition War with star
          systems the Blackhawks and the fall of the Luos Syndicate, they've become a prevelant power. And ever since
          their first of thousands of heists against neighboring powers, Ten Cred has been the Red Dagger's home system.
          It's also a very active trade system for inter relations between gangs and for powers they don't entirely
          hate.

        </p>
      </span></div>
    <div class="pirate-system choice section-startingPos" id="choose-las-stop"><span><img
          src="Images/Places/lasstop-indotort-midjourney.webp">
        <h3 style="margin-top: 0px; margin-bottom: 0px;">Las Stop</h3>
        <div class="choice-cost">gain: 50 million</div>
        <p>When the Lastop system was first scouted out by the Talons, the Red
          Daggers were surprised to find that they were offered it in return of having a trade deal with them. It seemed
          that the Talons had no interest in expanding territory, but the Red Daggers took it without hesitating, and
          has since become a very powerful asset and ally. Lastop is rich in the much-needed common ores, and the Talons
          and Red Daggers have taken advantage of it.
        </p>
      </span></div>
    <div class="independent-system choice section-startingPos" id="choose-detritus"><span><img
          src="Images/Places/detritus-indotort-midjourney.webp">
        <h3 style="margin-top: 0px; margin-bottom: 0px;">Detritus</h3>
        <div class="choice-cost">gain: 50 million</div>
        <p>The Federation has plenty of virtues, but some groups have failed to see them within the galactic nation. The
          rising threats from pirate groups caused uprising in the outer Federation systems; where was the Navy when
          they were most needed? Detritus was the second system to claim separatism from the Federation, having been
          long fed up with the incompetency.
        <p>And to make matters worse, the Federation simply dismissed the claim and labeled them as a "pirate group",
          along with the Exodus system. Being left they've to fend for themselves, held out against bandits and pirates
          using guerilla tactics and make-shift hardware.</p>
        </p>
      </span></div>
    <div class="independent-system choice section-startingPos" id="choose-exodus"><span><img
          src="Images/Places/exodus-indotort-midjourney.webp">
        <h3 style="margin-top: 0px; margin-bottom: 0px;">Exodus</h3>
        <div class="choice-cost">gain: 50 million</div>
        <p>Though not having been under as much threat from bandits as Detritus has, Exodus was the first to claim
          separatism from the Federation. Having started out as a simple mining colony, resources were limited and were
          only ferried in small amounts from Wayward. Despite Exodus' calls for increased support, they went unanswered
          and began to establish the colony as their own, starting agricultural projects with what they had. Soon they
          became self-sustaining, but when support from the Federation finally cut off, they ended up not caring
          anymore.
        </p>
      </span></div>
    <div class="luos-system choice section-startingPos" id="choose-haven"><span><img
          src="Images/Places/haven-indotort-midjourney.webp">
        <h3 style="margin-top: 0px; margin-bottom: 0px;">Haven</h3>
        <div class="choice-cost">gain: 50 million</div>
        <p>Much of the once powerful Luos Syndicate now lies in ruin. Thousands of tons of twisted metal litter the
          entire Syndicate space from destroyed warships to unservicable space stations. Pirate and Federation activity
          is still rampant after the Syndicate's fall, and unrest is evident throughout the many remaining cities. Haven
          was the Syndicate capital, and it was also bombarded the most by the Federation and mercenary armada.
        <p>Although Haven was largely considered the centre of the Core Ring corporations, it was bitter irony to them
          that the last vestiges of the Luos armada that defended the system were made up of their Outer Ring
          counterparts; groups that they didn't see eye-to-eye with. At this point in the war, most of the companies in
          the Syndicate forces were either routed or just deserted completely.</p>
        </p>
      </span></div>
    <div class="luos-system choice section-startingPos" id="choose-olympus"><span><img
          src="Images/Places/olympus-indotort-midjourney.webp">
        <h3 style="margin-top: 0px; margin-bottom: 0px;">Olympus</h3>
        <div class="choice-cost">gain: 50 million</div>
        <p>Several years after the Pirate Coalition War, the Blackhawk Elite and Federation fought back. With an armada
          spanning several thousand ships including nearly sixty dreadnoughts, the Navy-led assault took them to the
          three entry-systems of the Luos Syndicate: Olympus, Elysium and Solar- la. The Syndicate had prepared but
          despite their power, could not withstand their might. They held for a mere four days before being forced to
          retreat. Elysium saw the heaviest of the fights, but was also the last to fall.
        </p>
      </span></div>
    <div class="luos-system choice section-startingPos" id="choose-erebus"><span><img
          src="Images/Places/erebus-indotort-midjourney.webp">
        <h3 style="margin-top: 0px; margin-bottom: 0px;">Erebus</h3>
        <div class="choice-cost">gain: 50 million</div>
        <p>Erebus was home to many of the Syndicate's Outer Ring corporations, such as the industrious Reibar
          manufacturing company or the venerable Cerberus Legion. Living conditions here were a stark contrast to Haven;
          it was a much harsher environment stricken with a more rustic atmosphere. Strange enough, the people were
          friendlier, and it's likely that the inhabitants here were the original founders of the Syndicate who
          envisioned a prosperous nation.
        <p>A mercenary coalition led by the Blackhawk Elites had planned a back-door attack from Valhalla and it was at
          Erebus where they entered the Syndicate. Unfortunately for them, however, they were met not by Syndicate
          forces but by Talons and Red Daggers in an ingenious ambush; almost half of the fleet was decimated by
          pre-aimed anti-matter cannon blasts as they landed in the system, predicted to the tee by Talon spies. The
          mercenary fleet was forced to flee, but so were the Talons and Red Daggers after they had heard that the
          Syndicate defence had failed up at the 'galactic north'. Rumors spread that both groups left due to other
          reasons, but neither elected to comment.</p>
        </p>
      </span></div>
    <div class="luos-system choice section-startingPos" id="choose-abyss"><span><img
          src="Images/Places/abyss-indotort-midjourney.webp">
        <h3 style="margin-top: 0px; margin-bottom: 0px;">Abyss</h3>
        <div class="choice-cost">gain: 50 million</div>
        <p>After the devastating Luos defeat at Olympus, Elysium and Solaria, the Federation forces tore through the
          remaining systems like a plague. Cities were bombarded to submission and Syndicate fleets were outnumbered and
          shredded apart by relentless firepower. The remaining Syndicate forces gathered at Abyss for a final defence
          led by Ise Ley'is, who was one of the only remaining Syndicate commanders that wasn't missing or had abandoned
          the Syndicate as a whole. Under valiant and ruthless leadership, she and the remaining Syndicate forces
          defended the system for two months before attrition burned them out. No ship was spared, and the few thousand
          surviving
          souls of an armada of nearly two million fled to Haven.
        </p>
      </span></div>
    <div class="independent-system choice section-startingPos" id="choose-star-dust"><span><img
          src="Images/Places/stardust-indotort-midjourney.webp">
        <h3 style="margin-top: 0px; margin-bottom: 0px;">Star Dust</h3>
        <div class="choice-cost">gain: 50 million</div>
        <p>Star Dust system is a very, very popular system for all factions. Namely, for the Stardust Space Station that
          orbits a barren planet With such leverage for all corners of the civilized galaxy, trade is rampant here, and
          you could find almost anything. The massive station attracts some of the most curious people who often bring
          rare things like Herald artifacts, or even entire Herald ships. Under a silent agreement of pirate
          organizations and even the Federation, the Star Dust system is one of the few places to be left out of
          conflicts. Groups have tried, but the system has a very strong militia funded by the wealthy station owners.
        </p>
      </span></div>
    <div class="independent-system choice section-startingPos" id="choose-br-5rb"><span><img
          src="Images/Places/br5rb-indotort-midjourney.webp">
        <h3 style="margin-top: 0px; margin-bottom: 0px;">BR-5RB</h3>
        <div class="choice-cost">gain: 50 million</div>
        <p>During the long, tedious and fierce Pirate Coalition War, it was at BR-5RB where the Blackhawk Elite
          suffered their first major defeat. Bringing nearly twenty dreadnoughts and many battleships, they left the
          field with almost none left. It was through utilizing much quicker swarms of destroyers and cruisers that the
          pirates overwhelmed the Blackhawks.
        </p>
      </span></div>
    <div class="independent-system choice section-startingPos" id="choose-dl7-2e"><span><img
          src="Images/Places/dl72e-indotort-midjourney.webp">
        <h3 style="margin-top: 0px; margin-bottom: 0px;">DL7-2E</h3>
        <div class="choice-cost">gain: 50 million</div>
        <p>After BR-5RB, the Blackhawk Elite staged another defence here, but morale was devastated and their might was
          stricken. They put up little to no resistance, and fled. Mjölnir was abandoned, and the Blackhawks fortified
          at their other two staging systems before the Pirate Coalition declared a victory.
      </span>
    </div>
    <div class="independent-system choice section-startingPos" id="choose-crown-forge"><span><img
          src="Images/Places/crownforge-indotort-midjourney.webp">
        <h3 style="margin-top: 0px; margin-bottom: 0px;">Crown Forge</h3>
        <div class="choice-cost">gain: 50 million</div>
        <p>After the Pirate Coalition War, the pirates who settled at Mjölnir named themselves the Fire Legion and began
          to raise hostilities against their former allies, the Red Daggers. The Crown and Forge systems are both
          witnesses to some of the most violent encounters that have been escalating throughout the years between the
          Legion, the Red Daggers, and Blackhawk Elites. Full out war seems to be brewing again, and sides are going to
          be taken.
      </span></div>
    <div class="independent-system choice section-startingPos" id="choose-clover-region"><span><img
          src="Images/Places/cloverregion-indotort-midjourney.webp">
        <h3 style="margin-top: 0px; margin-bottom: 0px;">Clover Region</h3>
        <div class="choice-cost">gain: 50 million</div>
        <p>In between the Blackhawk Elite's Valhalla sovereignty and the Talon sovereignty is a scant four systems that
          link the two powers. Silent and unseen from the rest of the civilized galaxy is a constant demonstration of
          might and tact, neither side ever getting an advantage over the other. When one side gets a victory, they lose
          the next encounter. It's gotten so bad that the two sides have silently agreed to wave their pride at each
          other in the form of 'wargames' instead of blowing each other into oblivion (most of the time), and fights
          have often turned into conflicting opinions and name-calling. They hate each other. A lot.
      </span></div>
    <div class="pirate-system choice section-startingPos" id="choose-mjolnir"><span><img
          src="Images/Places/mjolnir-indotort-midjourney.webp">
        <h3 style="margin-top: 0px; margin-bottom: 0px;">Mjolnir</h3>
        <div class="choice-cost">gain: 50 million</div>
        <p>For many decades, Ragnarök, Mjölnir and Valhalla were unbreakable, until the pirates formed a coalition led
          by the Luos Core Ring and began a full out assault. After the devastating Blackhawk losses at BR-5RB and
          DL7-2E, they were forced to abandon Mjölnir, and a part of the pirate coalition took over the region. Ever
          since, they have almost always kept to themselves, despite the collaboration with the Luos Syndicate and the
          Red Daggers. They called themselves the Fire Legion.
        <p>It was not until recently when they began raising hostilities with the Red Daggers and even the Blackhawk
          Elites, their skirmishes growing more and more violent. As of late, the Blackhawks have responded by setting
          up strong blockades across the region of space surrounding the Fire Legion. Meanwhile, the rest of the galaxy
          has resorted to watching with anxious curiosity.</p>
        <p> Rumors are spreading that this all has to do with the Heralds, but even more ominous rumors suggest about
          something called the Harbinger. Others say it has something to do with mana energy. Either way, those on the
          front lines claim that
          the Legion can hardly be claimed as human anymore. </p>
      </span></div>
    <div class="independent-system choice section-startingPos" id="choose-prion"><span><img
          src="Images/Places/prion-indotort-midjourney.webp">
        <h3 style="margin-top: 0px; margin-bottom: 0px;">Prion</h3>
        <div class="choice-cost">gain: 50 million</div>
        <p>Pulsar Incorporated started out as a research and development company in the Federation, but after striking
          gold at Prion, they became one of the civilized galaxy's most prevalent industrial companies. The surrounding
          systems are rich with high-grade ore and allowed the company to establish the region as their own. Prion is
          one of the more popular systems, being a dependent source of high-grade metals for many differnt parties.
      </span></div>
    <div class="independent-system choice section-startingPos" id="choose-bastion"><span><img
          src="Images/Places/bastion-indotort-midjourney.webp">
        <h3 style="margin-top: 0px; margin-bottom: 0px;">Bastion</h3>
        <div class="choice-cost">gain: 50 million</div>
        <p>Very similar to Pulsar Inc., Beatrice Research and Development start- ed off as a pursuit for exploration,
          terraforming and research. Many of the accesssible systems in the civilized galaxy are thanks to the
          technology developed by Beatrice, and they have since established their own few systems as a base of
          operations. Bastion is fitted with some of the most advanced tech- nology ever built by humanity, and with an
          endless amount of stars within human reach, Beatrice continues to lead the charge into the unknown universe.
      </span></div>
    <div class="independent-system choice section-startingPos" id="choose-synchordia"><span><img
          src="Images/Places/synchordia-indotort-midjourney.webp">
        <h3 style="margin-top: 0px; margin-bottom: 0px;">Synchordia</h3>
        <div class="choice-cost">gain: 50 million</div>
        <p>Unlike Beatrice R&D and Pulsar Inc, Hammerhead Industries was an industrious company from its roots. Inspired
          by the success of Pulsar, Hammerhead industries, one of the lead manufacturers of ships and vehicles in the
          Federa- tion already, funded their own expedition across the galaxy. It was at Synchordia where they struck
          their own gold mine and established a strong, industrious fortress. They began mass producing ships ever
          since, and have become the most used ship hull brand for pilots across the galaxy.
      </span></div>

    <div id="origin-skills">
      <div>
        <span>
          <div>
            <h3>Courses</h3>
            You may take up to 20 courses during your formation years, for every course you take, you gain 1 Skill Level
            up to a maximum of 10. A course lasts a semester.
            You are only able to do one job in addition to being the pilot at the same time.
          </div>
        </span>
      </div>
    </div>
    <div id="endOfSkills" style="display:none;"></div>
  </div>




  <!--You-Equipment, this will scroll no clickable choices because too long
  dependencies: choice-origin -->
  <div class="section" id="section-equipment">
    <div id="title-equipment">
      <span>
        <div>
          <h3>Wavelength</h3>
          *A mysterious stranger approaches you*
          We were driven to you because of your wavelength. Not everyone has one, but your frequency is precisely what
          allows you to become a Rider of the Apocalypse. Furthermore, it can evolve to resonate more profoundly with
          your suit. By pursuing perfect harmony with this new extension of yourself, you thereby grasp transcendence of
          your eminent being. Obtaining and understanding Herald artifacts will unlock your potential beyond measure.
          This suit will improve and grow with you. What your wavelength is will give us an idea of how you can both
          flourish as one.
        </div>
      </span>
    </div>
    <div id="title-frame">
      <span>
        <div>
          <h3>Frame</h3>
          You can start off by building your suit. First, you have to select a frame type. Different frame types have
          different specialties. Frames have resources and rig slots. Rigs are modifications to the suit itself that
          adds extra functionality, like upgraded armour systems or improved servosmechanics. Resources are for the
          attachment of equipment, such as weapons, spells or e-war modules.
          <h4 style="margin: 15px;">There are two types of resources:</h4>
          <span style="display: flex;">
            <div style="display:flex; flex-direction: column; align-items: center;">
              <h4 style="margin-bottom: 0;">Frame Integrity</h4>
              <img src="Images/Other/frame resources.webp" style="width: 100px; height:100px;">
              All attachable modules costs frame integrity. Some frames may have bonus calibration points for use only
              on specific types of modules.
            </div>
            <div style="display:flex; flex-direction: column; align-items: center;">
              <h4 style="margin-bottom: 0;">Weapon Hardpoints</h4>
              <img src="Images/Other/weapon hardpoints.webp" style="width: 100px; height:100px;">
              The attachment points for conventional weapons on the suit. Larger weapons require more hard points to
              attach.
            </div>
          </span>
        </div>
      </span>
    </div>
    <div class="choice-frame" id="choice-frame1">
      <span>
        <div>Vulcan</div>

        <div style="flex-direction: column; " id="choice-imperator">

          <div style="display:flex;">
            <img class="choice-frame-image" src="Images/Equipment/david-alvarez-dalvarez-voices-of-mars-03.webp">
            <span style="text-align: left; margin-left:5px;" class="p-frame">
              <p style="margin:5px;">Resources: </p>

              <p style="display:flex; text-align: center; justify-content: center; align-items: center; gap: 5px;">
                75<img src="Images/Other/frame resources.webp" style="width: 25px; height: 25px; ;">
                12<img src="Images/Other/weapon hardpoints.webp" style="width: 25px; height: 25px; ;">
              </p>

              <h4 style="margin:5px;">Rig Slots: </h4>
              <ul>
                <li>Offensive: 8</li>
                <li>Defensive: 6</li>
                <li>Mobility: 4</li>
                <li>Command: 1</li>
                <li>Utility: 4</li>
              </ul>
            </span>
          </div>
          <p class="p-frame">The Vulcan was built as a stout weapon platform, capable of using heavy weapons usually
            mounted on vehicles or ships. Its technological roots trace back to the Federation Navy and can serve as a
            staple for any doctrine, as its vast reserves for munitions may be replaced for greater capacity for mana
            grid support. A single Vulcan is capable of widespread destruction.</p>
        </div>
        <h4 class="p-frame">Frame Upgrades (Select One): </h4>
        <div style="display:flex;">
          <div class="choice-frame-upgrade" style="flex-basis: 50%; margin:0;" id="frame-upgrade-hellion">
            <img src="Images/Equipment/enclave-interactive-captain-of-the-blood-angels-enclave-dark.webp">
            <p>Hellion</p>
            <p><b>+30 usable for conventional weapons only.</b> <br>An upgrade focused on destruction at a versatile
              level with expanded munition reserves.
            </p>
          </div>
          <div class="choice-frame-upgrade" style="flex-basis: 50%; margin:0;" id="frame-upgrade-seraph">
            <img src="Images/Equipment/ibrahem-swaid-magnus-c35-tss.webp">
            <p>Seraph</p>
            <p><b>-1 cost for catalyst and affinity.</b>
              <br>A frame that enhances the intricacies
              of the suit's mana grid, deepening reserves for spell capabilities.
            </p>
          </div>
        </div>
      </span>
    </div>
    <div class="choice-frame" id="choice-frame2">
      <span>
        <div>Dragoon</div>

        <div style="flex-grow: 1;" id="choice-imperator">
          <div style="display:flex;">
            <img class="choice-frame-image" src="Images/Equipment/plugsuit-explicatus2654-civitai.webp">
            <span style="text-align: left; margin-left:5px;" class="p-frame">
              <p style="margin:5px;">Resources: </p>
              <p style="display:flex; text-align: center; justify-content: center; align-items: center; gap: 5px;">
                75<img src="Images/Other/frame resources.webp" style="width: 25px; height: 25px; ;">
                8<img src="Images/Other/weapon hardpoints.webp" style="width: 25px; height: 25px; ;">
              </p>
              <h4 style="margin:5px;">Rig Slots: </h4>
              <ul>
                <li>Offensive: 4</li>
                <li>Defensive: 4</li>
                <li>Mobility: 5</li>
                <li>Command: 1</li>
                <li>Utility: 4</li>
              </ul>
            </span>
          </div>
          <p class="p-frame">On its own, a Dragoon does not have any outstanding offensive qualities when compared to
            other suits. However, it has the unique ability to interface with larger extensions of itself, like tanks or
            ships. This escalates the suit's power by a magnitude for however long the Dragoon can remain interfaced. A
            base Dragoon suit can have one mount.
          </p>
        </div>
        <h4 class="p-frame">Frame Upgrades (Select One): </h4>
        <div style="display:flex;">
          <div class="choice-frame-upgrade" style="flex-basis: 50%; margin:0;" id="frame-upgrade-raptor">
            <img src="Images/Equipment/vladislav-ociacia-3.webp">
            <p>Raptor</p>
            <p><b>+2 Mobility rigs & "Perfect" stealth.</b> <br>Maximizes the mobility potential of the suit. When using
              the "Phantom" rig, it can still use all of its other functions.
            </p>
          </div>
          <div class="choice-frame-upgrade" style="flex-basis: 50%; margin:0;" id="frame-upgrade-corvette">
            <img src="Images/Equipment/Bismark-erika_itsumi-warthunder.webp">
            <p>Corvette</p>
            <p><b>+2 Dragoon mounts.</b>
              <br>Upgrades the frame to be able to have two more available Dragoon mounts to interface with.
            </p>
          </div>
        </div>
      </span>
    </div>
    <div class="choice-frame" id="choice-frame3">
      <span>
        <div>Imperator</div>

        <div style="flex-grow: 1;" id="choice-imperator">
          <div style="display:flex;">
            <img class="choice-frame-image" src="Images/Equipment/pAInCREAT0R-civitai.webp">
            <span style="text-align: left; margin-left:5px;" class="p-frame">
              <p style="margin:5px;">Resources: </p>
              <p style="display:flex; text-align: center; justify-content: center; align-items: center; gap: 5px;">
                60+ 25% disc(ewar)<img src="Images/Other/frame resources.webp" style="width: 25px; height: 25px; ;">
                8<img src="Images/Other/weapon hardpoints.webp" style="width: 25px; height: 25px; ;">
              </p>
              <h4 style="margin:5px;">Rig Slots: </h4>
              <ul>
                <li>Offensive: 4</li>
                <li>Defensive: 4</li>
                <li>Mobility: 4</li>
                <li>Command: 1</li>
                <li>Utility: 8</li>
              </ul>
            </span>
          </div>
          <p class="p-frame">Electronic and digital warfare are a boon to any Apocalypse fireteam, and when wielded
            correctly in the right situations, it can potentially be the most dangerous. Imperator suits were built to
            wield e- war like a cannon, and sports a Neurolink with the most profound rela- tionship with the mind of
            the pilot.
          </p>
        </div>
        <h4 class="p-frame">Frame Upgrades (Select One): </h4>
        <div style="display:flex;">
          <div class="choice-frame-upgrade" style="flex-basis: 50%; margin:0;" id="frame-upgrade-monsoon">
            <img src="Images\Other\Beatrice R&D.webp">
            <p>Monsoon</p>
            <p><b>25% discount for emissions type e-war modules only.</b>
              <br>An upgraded frame with greatly increased energy reserves and specialization in emissions module use.
            </p>
          </div>

          <div class="choice-frame-upgrade" style="flex-basis: 50%; margin:0;" id="frame-upgrade-inquisitor">
            <img src="Images\Other\Beatrice R&D.webp">
            <p>Inquisitor</p>
            <p><b>25% discount for digital-type e-war modules only.</b>
              <br>A frame with more complex circuitry and quantum computing power for digital modules.
            </p>
          </div>
        </div>
      </span>
    </div>
    <div id="title-rigs">
      <span>
        <div>
          <h3>Rigs</h3>
          "Courage shall be ruthless,
          Wrath shall be mercy,
          Diminish not in the endless night.
          Forth, temper in the face of calamity, unyielding."
          A creed of mine from an old order, long gone.
          Take wing, Rider of Famine.

          Only the Riders have access to these rigs, which surpass anything available to even the most advanced
          factions.
        </div>
      </span>
    </div>
    <div style="display:none;" id="endOfRigs"></div>
    <div id="title-dragoon">
      <span>
        <div>
          <h3>Vehicles</h3>
          All vehicles cost hangar slots (in ships) and credits (resources for Dragoon Mounts). Can only buy 1 Dragoon
          mount unless you take the perk.
          Dragoon Mounts are anomalous vehicles transformed by Dragoon frames. <b>These mounts cannot take
            logistics-type e-war modules.</b>
          Like frames, these vehicles have resources for the attachment of equipment which can only be used when the
          Dragoon pilot
          is interfaced with the vehicle. The technology for Dragoon Mounts is blackboxed and can't be reproduced. Only
          a Dragoon can repair it.
          <h4>They also have a few stats:</h4>
          <ul style="columns: 2;">
            <li>Armour: Determines the durability of the vehicle's armour. </li>
            <li>Shields: Determines the capacity of the vehicle's shields in taking damage.</li>
            <li></li>Mobility: The manoeuvrability of the vehicle.</li>
            <li>Uptime: The duration of how long the vehicle can be active and interfaced with before shutting down.
            </li>
            <li>Recharge: The time it takes for the vehicle to be fully recharged. The higher the value, the quicker it
              takes.</li>
          </ul>
        </div>
      </span>
    </div>
    <div style="display:none;" id="endOfVehicles"></div>

    <div id="title-eWarEquipment">
      <span>
        <div>
          <h3>E-War-Equipment</h3>
          <p>We know now that the Heralds who preceded us were annihilated. By what, we don't know, but they sailed
            betwixt the stars with not a modicum of fear, for they were masters of time and space. Alas, it is their
            disposition that we now wear, and we owe it to ourselves to do better. For us, a turbulent adversary awaits.
            One whom the gods have long forgotten. The stars part for you, Rider of Pestilence. </p>

          <p>There are three types of e-war modules: Emissions, Digital and Logistics. All Apocalypse suits are capable
            of vary- ing levels of electronic warfare and are expected to be able to hold their own. Each e-war module
            has different Tech levels, and each Tech level is a prerequisite for the next one. The cost of processing
            power is additive </p>
        </div>
      </span>
    </div>

    <div class="choice" style="flex-basis: 30%; margin: 2px;">
      <span style="margin: 2px;">
        <h3 style="margin: 2px;">Signals Intelligence</h3>
        <div style="flex-grow: 1; margin: 2px;" id="choice-signals-intelligence">
          <div style="display: flex; margin: 2px;">
            <img src="Images/Equipment/oleg-bercea-9.webp" alt="Signals Intelligence Icon" style="margin: 2px;">
          </div>
          <p class="p-frame" style="margin-bottom: 0; margin: 2px;">Emissions Intelligence comes in many forms, and this
            module uses a mixture of parsing and reporting to help break down that helpful information for you.</p>
        </div>

        <h4 class="p-frame" style="margin: 2px;">E-War Upgrades : </h4>
        <div style="display: flex; flex-direction: column; flex-grow: 1; margin: 2px;">
          <div class="choice ewar emissions" style="flex-basis: 100%; margin: 2px; width: auto"
            id="tech1-comint-discipline">
            <div style="display: flex; margin: 2px;">
              <p style="flex-basis: 50%; margin: 2px;">Tech 1: COMINT Discipline</p>
              <p style="flex-basis: 50%; margin: 2px;">Cost: 2</p>
            </div>
            <p style="margin: 2px;">A module for Communication Signals Intelligence, analyzing language from intercepted
              comms be it audio, text, or otherwise. With special machine learning techniques, it can display advanced
              interpretations and conclusions.</p>
          </div>
          <div class="choice ewar emissions" id="tech2-elint-discipline"
            style="flex-basis: 100%; margin: 2px; width: auto">
            <div style="display: flex; margin: 2px;">
              <p style="flex-basis: 50%; margin: 2px;">Tech 2: ELINT Discipline</p>
              <p style="flex-basis: 50%; margin: 2px;">Cost: 4</p>
            </div>
            <p style="margin: 2px;">An Electronic Signals Intelligence gathering module that analyzes electro-magnetic
              emissions from all kinds of tech. This allows you to detect electric systems, understand their make and
              detect their almost precise locations.</p>
          </div>
          <div class="choice ewar emissions" id="tech3-asint-discipline"
            style="flex-basis: 100%; margin: 2px; width: auto">
            <div style="display: flex; margin: 2px;">
              <p style="flex-basis: 50%; margin: 2px;">Tech 3: ASINT Discipline</p>
              <p style="flex-basis: 50%; margin: 2px;">Cost: 8</p>
            </div>
            <p style="margin: 2px;">This module uses powerful sensors to return a detailed analysis of the Analogue
              Signals of the surrounding physical environment. This includes geometrical dimensions, abundancy of
              certain elements, and even space-time anomalies.</p>
          </div>
        </div>
      </span>
    </div>

    <!-- Surveillance Module -->
    <div class="choice" style="flex-basis: 30%; margin: 2px;">
      <span style="margin: 2px;">
        <h3 style="margin: 2px;">Surveillance</h3>
        <div id="choice-surveillance" style="margin: 2px;">
          <div style="margin: 2px;">
            <img src="Images/Equipment/claudio-pilia-survillanceb.webp" alt="Surveillance Icon" style="margin: 2px;">
            <p class="p-frame" style="margin-bottom: 0; margin: 2px;">Radar warfare is arguably one of the most
              important aspects for modern combat, and marking targets while evading being marked can mean life or
              death.</p>
          </div>
        </div>
        <h4 class="p-frame" style="margin: 2px;">E-War Upgrades : </h4>
        <div style="display: flex; flex-direction: column; flex-grow: 1; margin: 2px;">
          <div class="choice ewar emissions" id="tech1-esm-honing" style="flex-basis: 100%; margin: 2px; width: auto">
            <div style="display: flex; margin: 2px;">
              <p style="flex-basis: 50%; margin: 2px;">Tech 1: ESM Honing</p>
              <p style="flex-basis: 50%; margin: 2px;">Cost: 2</p>
            </div>
            <p style="margin: 2px;">An Electronic Surveillance Measures module which detects all emission-type
              electronic warfare attacks. This also includes lock-ons to you and your fireteam members. Works well with
              the ELINT Discipline module.</p>
          </div>
          <div class="choice ewar emissions" id="tech2-rcs-masking" style="flex-basis: 100%; margin: 2px; width: auto">
            <div style="display: flex; margin: 2px;">
              <p style="flex-basis: 50%; margin: 2px;">Tech 2: RCS Masking</p>
              <p style="flex-basis: 50%; margin: 2px;">Cost: 4</p>
            </div>
            <p style="margin: 2px;">A continuously running module that rebuffs the entropy of your suit's Radar Cross
              Section as well as for allies in range. This makes it more difficult for other modules to track you,
              although this affects both friendly and hostile systems.</p>
          </div>
          <div class="choice ewar emissions" id="tech3-target-rcs-enhancement"
            style="flex-basis: 100%; margin: 2px; width: auto">
            <div style="display: flex; margin: 2px;">
              <p style="flex-basis: 50%; margin: 2px;">Tech 3: Target RCS Enhancement</p>
              <p style="flex-basis: 50%; margin: 2px;">Cost: 8</p>
            </div>
            <p style="margin: 2px;">Buffer the Radar Cross Section resolution of a target or multiple. This offers
              clarity on the signature radius of the target, allowing easier tracking and accuracy against said target
              for you and your allies.</p>
          </div>
        </div>
      </span>
    </div>

    <!-- ECM Module -->
    <div class="choice" style="flex-basis: 30%; margin: 2px;">
      <span style="margin: 2px;">
        <h3 style="margin: 2px;">ECM</h3>
        <div id="choice-ecm" style="margin: 2px;">
          <div style="margin: 2px;">
            <img src="Images/Equipment/ECM-indotort-midjourney.webp" alt="ECM Icon" style="margin: 2px;">
            <p class="p-frame" style="margin-bottom: 0; margin: 2px;">With enough energy, you can disrupt the
              functionality of a target using Electronic Counter Measures. If done well, you can achieve mission success
              without having to fire a shot.</p>
          </div>
        </div>
        <h4 class="p-frame" style="margin: 2px;">E-War Upgrades : </h4>
        <div style="display: flex; flex-direction: column; flex-grow: 1; margin: 2px;">
          <div class="choice ewar emissions" id="tech1-eccm" style="flex-basis: 100%; margin: 2px; width: auto">
            <div style="display: flex; margin: 2px;">
              <p style="flex-basis: 50%; margin: 2px;">Tech 1: ECCM</p>
              <p style="flex-basis: 50%; margin: 2px;">Cost: 2</p>
            </div>
            <p style="margin: 2px;">Electronic warfare has always been an arms race between defensive capabilities and
              the offensive. This Electronic Counter-Counter Measures module hardens your electrical systems from ECM
              attacks.</p>
          </div>
          <div class="choice ewar emissions" id="tech2-sensor-dampening"
            style="flex-basis: 100%; margin: 2px; width: auto">
            <div style="display: flex; margin: 2px;">
              <p style="flex-basis: 50%; margin: 2px;">Tech 2: Sensor Dampening</p>
              <p style="flex-basis: 50%; margin: 2px;">Cost: 4</p>
            </div>
            <p style="margin: 2px;">Affects the radar and detection systems of a target, reducing the effectiveness and
              radius at which they operate.</p>
          </div>
          <div class="choice ewar emissions" id="tech3-ecm-jamming" style="flex-basis: 100%; margin: 2px; width: auto">
            <div style="display: flex; margin: 2px;">
              <p style="flex-basis: 50%; margin: 2px;">Tech 3: ECM Jamming</p>
              <p style="flex-basis: 50%; margin: 2px;">Cost: 8</p>
            </div>
            <p style="margin: 2px;">A module that sends out a powerful ECM wave to effectively scramble or jam a
              target's capability to track and communicate, rendering them blind, deaf and mute for several minutes if
              not defended against well.</p>
          </div>
        </div>
      </span>
    </div>

    <!-- Energy Neutralizer Module -->
    <div class="choice" style="flex-basis: 30%; margin: 2px;">
      <span style="margin: 2px;">
        <h3 style="margin: 2px;">Energy Neutralizer</h3>
        <div id="choice-energy-neutralizer" style="margin: 2px;">
          <div style="margin: 2px;">
            <img src="Images/Equipment/EnergyNeutralizer-indotort-midjourney.webp" alt="Energy Neutralizer Icon"
              style="margin: 2px;">
            <p class="p-frame" style="margin-bottom: 0; margin: 2px;">Using precise wavelengths and algorithms, this
              energy emissions module can disrupt different power sources on the intended target. Shorter range than
              most other e-war.</p>
          </div>
        </div>
        <h4 class="p-frame" style="margin: 2px;">E-War Upgrades : </h4>
        <div style="display: flex; flex-direction: column; flex-grow: 1; margin: 2px;">
          <div class="choice ewar emissions" id="tech1-capacitor-destabilizer"
            style="flex-basis: 100%; margin: 2px; width: auto">
            <div style="display: flex; margin: 2px;">
              <p style="flex-basis: 50%; margin: 2px;">Tech 1: Capacitor Destabilizer</p>
              <p style="flex-basis: 50%; margin: 2px;">Cost: 2</p>
            </div>
            <p style="margin: 2px;">This module targets energy capacitors and batteries, diluting their charges and
              effectively decreasing the amount of available energy in them.</p>
          </div>
          <div class="choice ewar emissions" id="tech2-mana-neutralizer"
            style="flex-basis: 100%; margin: 2px; width: auto">
            <div style="display: flex; margin: 2px;">
              <p style="flex-basis: 50%; margin: 2px;">Tech 2: Mana Neutralizer</p>
              <p style="flex-basis: 50%; margin: 2px;">Cost: 4</p>
            </div>
            <p style="margin: 2px;">Sends out concentrated waves of charged electrons that hammers a target's mana
              reserves. When done long enough, on a large enough target, it may destabilize and even ignite the mana.
            </p>
          </div>
          <div class="choice ewar emissions" id="tech3-emp" style="flex-basis: 100%; margin: 2px; width: auto">
            <div style="display: flex; margin: 2px;">
              <p style="flex-basis: 50%; margin: 2px;">Tech 3: EMP</p>
              <p style="flex-basis: 50%; margin: 2px;">Cost: 8</p>
            </div>
            <p style="margin: 2px;">Uses a considerable amount of energy from your suit to send out a wide and
              indiscriminate Electro-Magnetic Pulse, shorting electrical circuitry and disabling energy reserves over a
              wide area for a large amount of time.</p>
          </div>
        </div>
      </span>
    </div>

    <!-- Flash Blinder Module -->
    <div class="choice" style="flex-basis: 30%; margin: 2px;">
      <span style="margin: 2px;">
        <h3 style="margin: 2px;">Flash Blinder</h3>
        <div id="choice-flash-blinder" style="margin: 2px;">
          <div style="margin: 2px;">
            <img src="Images/Equipment/flashblinder-indotort-midjourney.webp" alt="Flash Blinder Icon"
              style="margin: 2px;">
            <p class="p-frame" style="margin-bottom: 0; margin: 2px;">This module mostly focuses on the use of a mixture
              of optical and sound emissions as a weapon.</p>
          </div>
        </div>
        <h4 class="p-frame" style="margin: 2px;">E-War Upgrades : </h4>
        <div style="display: flex; flex-direction: column; flex-grow: 1; margin: 2px;">
          <div class="choice ewar emissions" id="tech1-flash-blinder"
            style="flex-basis: 100%; margin: 2px; width: auto">
            <div style="display: flex; margin: 2px;">
              <p style="flex-basis: 50%; margin: 2px;">Tech 1: Flash Blinder</p>
              <p style="flex-basis: 50%; margin: 2px;">Cost: 2</p>
            </div>
            <p style="margin: 2px;">Adds a module that can project a blinding light, which while adjustable, can blind a
              normal human's unshielded eyes for a moment.</p>
          </div>
          <div class="choice ewar emissions" id="tech2-noise-gun" style="flex-basis: 100%; margin: 2px; width: auto">
            <div style="display: flex; margin: 2px;">
              <p style="flex-basis: 50%; margin: 2px;">Tech 2: Noise Gun</p>
              <p style="flex-basis: 50%; margin: 2px;">Cost: 4</p>
            </div>
            <p style="margin: 2px;">Upgrades the speakers in your suit while also having the capability of playing an
              extremely loud and concussive noise, which can easily stun an unprotected human being.</p>
          </div>
          <div class="choice ewar emissions" id="tech3-target-painter"
            style="flex-basis: 100%; margin: 2px; width: auto">
            <div style="display: flex; margin: 2px;">
              <p style="flex-basis: 50%; margin: 2px;">Tech 3: Target Painter</p>
              <p style="flex-basis: 50%; margin: 2px;">Cost: 8</p>
            </div>
            <p style="margin: 2px;">A module that projects an invisible laser that marks a target you focus it on, thus
              giving targetting and guiding systems from yourself or allies an easier time to hone in on.</p>
          </div>
        </div>
      </span>
    </div>

    <!-- Transmitter Module -->
    <div class="choice" style="flex-basis: 30%; margin: 2px;">
      <span style="margin: 2px;">
        <h3 style="margin: 2px;">Transmitter</h3>
        <div id="choice-transmitter" style="margin: 2px;">
          <div style="margin: 2px;">
            <img src="Images/Equipment/transmitter-indotort-midjourney.webp" alt="Transmitter Icon"
              style="margin: 2px;">
            <p class="p-frame" style="margin-bottom: 0; margin: 2px;">Modules that deal with the transfer of energy to
              allies. They have a decent applicable range, but they are more effective the closer you are in proximity
              to your target.</p>
          </div>
        </div>
        <h4 class="p-frame" style="margin: 2px;">E-War Upgrades : </h4>
        <div style="display: flex; flex-direction: column; flex-grow: 1; margin: 2px;">
          <div class="choice ewar emissions" id="tech1-shield-transmitter"
            style="flex-basis: 100%; margin: 2px; width: auto">
            <div style="display: flex; margin: 2px;">
              <p style="flex-basis: 50%; margin: 2px;">Tech 1: Shield Transmitter</p>
              <p style="flex-basis: 50%; margin: 2px;">Cost: 2</p>
            </div>
            <p style="margin: 2px;">Transfers energy over from your own suit's shield systems to the targets,
              replenishing any shield energy that's been diminished.</p>
          </div>
          <div class="choice ewar emissions" id="tech2-armour-nanite-energizer"
            style="flex-basis: 100%; margin: 2px; width: auto">
            <div style="display: flex; margin: 2px;">
              <p style="flex-basis: 50%; margin: 2px;">Tech 2: Armour Nanite Energizer</p>
              <p style="flex-basis: 50%; margin: 2px;">Cost: 4</p>
            </div>
            <p style="margin: 2px;">Another emissions module which energizes the armour repair nanites in your target,
              increasing the effectiveness of your target's armour repair capabilities.</p>
          </div>
          <div class="choice ewar emissions" id="tech3-energy-transmitter"
            style="flex-basis: 100%; margin: 2px; width: auto">
            <div style="display: flex; margin: 2px;">
              <p style="flex-basis: 50%; margin: 2px;">Tech 3: Energy Transmitter</p>
              <p style="flex-basis: 50%; margin: 2px;">Cost: 8</p>
            </div>
            <p style="margin: 2px;">Upgrades the overall output of your suit's energy generation while also giving the
              capability to provide energy to an allied Apoc suit within a decent range at a net-positive.</p>
          </div>
        </div>
      </span>
    </div>

    <!-- Mechanical Destabilizer Module -->
    <div class="choice" style="flex-basis: 30%; margin: 2px;">
      <span style="margin: 2px;">
        <h3 style="margin: 2px;">Mechanical Destabilizer</h3>
        <div id="choice-mechanical-destabilizer" style="margin: 2px;">
          <div style="margin: 2px;">
            <img src="Images/Equipment/mechanicaldestabilizer-indotort-midjourney.webp"
              alt="Mechanical Destabilizer Icon" style="margin: 2px;">
            <p class="p-frame" style="margin-bottom: 0; margin: 2px;">This module specializes in the application of a
              malicious code family which targets various mechanical systems in many types of machinery, including ships
              and suits.</p>
          </div>
        </div>
        <h4 class="p-frame" style="margin: 2px;">E-War Upgrades : </h4>
        <div style="display: flex; flex-direction: column; flex-grow: 1; margin: 2px;">
          <div class="choice ewar digital" id="tech1-motor-desynchronizer"
            style="flex-basis: 100%; margin: 2px; width: auto">
            <div style="display: flex; margin: 2px;">
              <p style="flex-basis: 50%; margin: 2px;">Tech 1: Motor Desynchronizer</p>
              <p style="flex-basis: 50%; margin: 2px;">Cost: 2</p>
            </div>
            <p style="margin: 2px;">Specifically targets the engine and servos mechanical systems of the target,
              hindering its movement if not disabling it outright depending on the effectiveness of security defenses.
            </p>
          </div>
          <div class="choice ewar digital" id="tech2-active-armour-poisoning"
            style="flex-basis: 100%; margin: 2px; width: auto">
            <div style="display: flex; margin: 2px;">
              <p style="flex-basis: 50%; margin: 2px;">Tech 2: Active Armour Poisoning</p>
              <p style="flex-basis: 50%; margin: 2px;">Cost: 4</p>
            </div>
            <p style="margin: 2px;">Broadcasts bad code that targets armour nanites of the intended target, disrupting
              them at their duty and decreasing the overall active armour effectiveness.</p>
          </div>
          <div class="choice ewar digital" id="tech3-weapon-jammer" style="flex-basis: 100%; margin: 2px; width: auto">
            <div style="display: flex; margin: 2px;">
              <p style="flex-basis: 50%; margin: 2px;">Tech 3: Weapon Jammer</p>
              <p style="flex-basis: 50%; margin: 2px;">Cost: 8</p>
            </div>
            <p style="margin: 2px;">Code that attempts to disrupt or jam the weapon systems of the intended target,
              decreasing overall performance or even neutralizing weapons outright.</p>
          </div>
        </div>
      </span>
    </div>

    <!-- Cryptogrid Module -->
    <div class="choice" style="flex-basis: 30%; margin: 2px;">
      <span style="margin: 2px;">
        <h3 style="margin: 2px;">Cryptogrid</h3>
        <div id="choice-cryptogrid" style="margin: 2px;">
          <div style="margin: 2px;">
            <img src="Images/Equipment/cryptogrid-indotort-midjourney.webp" alt="Cryptogrid Icon" style="margin: 2px;">
            <p class="p-frame" style="margin-bottom: 0; margin: 2px;">This module offers an advanced overlay beyond the
              basic defensive digital security systems already in your suit. A good defense is a layered defense.</p>
          </div>
        </div>
        <h4 class="p-frame" style="margin: 2px;">E-War Upgrades : </h4>
        <div style="display: flex; flex-direction: column; flex-grow: 1; margin: 2px;">
          <div class="choice ewar digital" id="tech1-encryption-entangler"
            style="flex-basis: 100%; margin: 2px; width: auto">
            <div style="display: flex; margin: 2px;">
              <p style="flex-basis: 50%; margin: 2px;">Tech 1: Encryption Entangler</p>
              <p style="flex-basis: 50%; margin: 2px;">Cost: 2</p>
            </div>
            <p style="margin: 2px;">Constantly rebuffs and refreshes the encryption on the various information systems
              in your suit, reducing risk against digital-based offensive modules or hacking.</p>
          </div>
          <div class="choice ewar digital" id="tech2-overclocker" style="flex-basis: 100%; margin: 2px; width: auto">
            <div style="display: flex; margin: 2px;">
              <p style="flex-basis: 50%; margin: 2px;">Tech 2: Overclocker</p>
              <p style="flex-basis: 50%; margin: 2px;">Cost: 4</p>
            </div>
            <p style="margin: 2px;">Improves the heat dissipation systems of your suit's electronics, allowing you to
              overclock overall electronic capabilities in short bursts of extreme workloads.</p>
          </div>
          <div class="choice ewar digital" id="tech3-incident-response"
            style="flex-basis: 100%; margin: 2px; width: auto">
            <div style="display: flex; margin: 2px;">
              <p style="flex-basis: 50%; margin: 2px;">Tech 3: Incident Response</p>
              <p style="flex-basis: 50%; margin: 2px;">Cost: 8</p>
            </div>
            <p style="margin: 2px;">A machine learning system that actively counteracts against detected malicious
              digital intrusions, building defensive protocols on a per-event basis. Successfully blocked attacks are
              improbable from ever working after contact.</p>
          </div>
        </div>
      </span>
    </div>

    <!-- Cryptobreaker Module -->
    <div class="choice" style="flex-basis: 30%; margin: 2px;">
      <span style="margin: 2px;">
        <h3 style="margin: 2px;">Cryptobreaker</h3>
        <div id="choice-cryptobreaker" style="margin: 2px;">
          <div style="margin: 2px;">
            <img src="Images/Equipment/cryptobreaker-indotort-midjourney.webp" alt="Cryptobreaker Icon"
              style="margin: 2px;">
            <p class="p-frame" style="margin-bottom: 0; margin: 2px;">A suite that runs many different
              encryption-breaking techniques to bypass securities. Greater defenses will only just take longer to crack.
            </p>
          </div>
        </div>
        <h4 class="p-frame" style="margin: 2px;">E-War Upgrades : </h4>
        <div style="display: flex; flex-direction: column; flex-grow: 1; margin: 2px;">
          <div class="choice ewar digital" id="tech1-hijack-kit" style="flex-basis: 100%; margin: 2px; width: auto">
            <div style="display: flex; margin: 2px;">
              <p style="flex-basis: 50%; margin: 2px;">Tech 1: Hijack Kit</p>
              <p style="flex-basis: 50%; margin: 2px;">Cost: 2</p>
            </div>
            <p style="margin: 2px;">A hacking toolkit that includes a wide array of spoofs, protocol poisoning, overflow
              modules and other tools that focus on cracking the defenses of digital systems. This increases your chance
              at initial success using other digital modules.</p>
          </div>
          <div class="choice ewar digital" id="tech2-backdoor-masking"
            style="flex-basis: 100%; margin: 2px; width: auto">
            <div style="display: flex; margin: 2px;">
              <p style="flex-basis: 50%; margin: 2px;">Tech 2: Backdoor Masking</p>
              <p style="flex-basis: 50%; margin: 2px;">Cost: 4</p>
            </div>
            <p style="margin: 2px;">A tool kit that has many methods of planting backdoors into targets that you've
              already hacked while attempting to mask their detection, allowing for a great chance of success after the
              first successful attack.</p>
          </div>
          <div class="choice ewar digital" id="tech3-rootkit-library"
            style="flex-basis: 100%; margin: 2px; width: auto">
            <div style="display: flex; margin: 2px;">
              <p style="flex-basis: 50%; margin: 2px;">Tech 3: Rootkit Library</p>
              <p style="flex-basis: 50%; margin: 2px;">Cost: 8</p>
            </div>
            <p style="margin: 2px;">An array of rootkits ranging from common ones that are easy to implement to
              complicated ones that are harder to detect. Rootkits mask your hacking presence, lengthening the duration
              of which your other digital modules take affect.</p>
          </div>
        </div>
      </span>
    </div>

    <!-- Wave Collider Module -->
    <div class="choice" style="flex-basis: 30%; margin: 2px;">
      <span style="margin: 2px;">
        <h3 style="margin: 2px;">Wave Collider</h3>
        <div id="choice-wave-collider" style="margin: 2px;">
          <div style="margin: 2px;">
            <img src="Images/Equipment/wavecollider-indotort-midjourney.webp" alt="Wave Collider Icon"
              style="margin: 2px;">
            <p class="p-frame" style="margin-bottom: 0; margin: 2px;">An offensive digital security module that uses
              code which specifically attempts to disrupt energy systems in other machinery.</p>
          </div>
        </div>
        <h4 class="p-frame" style="margin: 2px;">E-War Upgrades : </h4>
        <div style="display: flex; flex-direction: column; flex-grow: 1; margin: 2px;">
          <div class="choice ewar digital" id="tech1-greenhouse-virus"
            style="flex-basis: 100%; margin: 2px; width: auto">
            <div style="display: flex; margin: 2px;">
              <p style="flex-basis: 50%; margin: 2px;">Tech 1: Greenhouse Virus</p>
              <p style="flex-basis: 50%; margin: 2px;">Cost: 2</p>
            </div>
            <p style="margin: 2px;">An annoying virus that's a bane to many advanced machinery. It targets the
              management system of a target's energy grid, reducing its integrity and potentially causing energy to
              reach critical instability levels.</p>
          </div>
          <div class="choice ewar digital" id="tech2-shield-poisoning"
            style="flex-basis: 100%; margin: 2px; width: auto">
            <div style="display: flex; margin: 2px;">
              <p style="flex-basis: 50%; margin: 2px;">Tech 2: Shield Poisoning</p>
              <p style="flex-basis: 50%; margin: 2px;">Cost: 4</p>
            </div>
            <p style="margin: 2px;">Weakens the energy shield logistical systems of a target, potentially disabling the
              shield outright for simpler mechanisms.</p>
          </div>
          <div class="choice ewar digital" id="tech3-mana-script-entropy"
            style="flex-basis: 100%; margin: 2px; width: auto">
            <div style="display: flex; margin: 2px;">
              <p style="flex-basis: 50%; margin: 2px;">Tech 3: Mana Script Entropy</p>
              <p style="flex-basis: 50%; margin: 2px;">Cost: 8</p>
            </div>
            <p style="margin: 2px;">A virus that takes multiple measures to attempt at denying the accessibility of a
              target to its mana scripts, disabling spellcasting for as long as it is not removed.</p>
          </div>
        </div>
      </span>
    </div>

    <!-- Triage Nanites Module -->
    <div class="choice" style="flex-basis: 30%; margin: 2px;">
      <span style="margin: 2px;">
        <h3 style="margin: 2px;">Triage Nanites</h3>
        <div id="choice-triage-nanites" style="margin: 2px;">
          <div style="margin: 2px;">
            <img src="Images/Equipment/triagenanites-indotort-midjourney.webp" alt="Triage Nanites Icon"
              style="margin: 2px;">
            <p class="p-frame" style="margin-bottom: 0; margin: 2px;">Adds a resevoir for nanites that are specialized
              for administering medical assistance to the pilot. Through tubes, these can be transferred to others as
              well.</p>
          </div>
        </div>
        <h4 class="p-frame" style="margin: 2px;">E-War Upgrades : </h4>
        <div style="display: flex; flex-direction: column; flex-grow: 1; margin: 2px;">
          <div class="choice ewar logistics" id="tech1-endurance-nanites"
            style="flex-basis: 100%; margin: 2px; width: auto">
            <div style="display: flex; margin: 2px;">
              <p style="flex-basis: 50%; margin: 2px;">Tech 1: Endurance Nanites</p>
              <p style="flex-basis: 50%; margin: 2px;">Cost: 2</p>
            </div>
            <p style="margin: 2px;">Nanites that elicits an increase in performance in your muscles while also soothing,
              repairing and reinforcing them, giving you a sudden boost to your endurance. They also help reinforce
              joints and bones.</p>
          </div>
          <div class="choice ewar logistics" id="tech2-biotic-regenerative-nanites"
            style="flex-basis: 100%; margin: 2px; width: auto">
            <div style="display: flex; margin: 2px;">
              <p style="flex-basis: 50%; margin: 2px;">Tech 2: Biotic Regenerative Nanites</p>
              <p style="flex-basis: 50%; margin: 2px;">Cost: 4</p>
            </div>
            <p style="margin: 2px;">A resevoir of advanced nanites that, when pumped into the body, attempt to
              rejuvinate damaged tissue along with combating infection and administering pain inhibition.</p>
          </div>
          <div class="choice ewar logistics" id="tech3-fuse-nanites" style="flex-basis: 100%; margin: 2px; width: auto">
            <div style="display: flex; margin: 2px;">
              <p style="flex-basis: 50%; margin: 2px;">Tech 3: Fuse Nanites</p>
              <p style="flex-basis: 50%; margin: 2px;">Cost: 8</p>
            </div>
            <p style="margin: 2px;">Experimental nanites that perform special actions to supplement the pilot's bodily
              functions, including breathing and eating. The pilot can essentially stay alive for as long as the suit
              has power.</p>
          </div>
        </div>
      </span>
    </div>

    <!-- Trauma Control Module -->
    <div class="choice" style="flex-basis: 30%; margin: 2px;">
      <span style="margin: 2px;">
        <h3 style="margin: 2px;">Trauma Control</h3>
        <div id="choice-trauma-control" style="margin: 2px;">
          <div style="margin: 2px;">
            <img src="Images/Equipment/traumacontrol-indotort-midjourney.webp" alt="Trauma Control Icon"
              style="margin: 2px;">
            <p class="p-frame" style="margin-bottom: 0; margin: 2px;">Modules that enhances the suit to be able to
              decisevely respond to physical trauma inflicted on the pilot or other bodily ailments.</p>
          </div>
        </div>
        <h4 class="p-frame" style="margin: 2px;">E-War Upgrades : </h4>
        <div style="display: flex; flex-direction: column; flex-grow: 1; margin: 2px;">
          <div class="choice ewar logistics" id="tech1-enhanced-trauma-management"
            style="flex-basis: 100%; margin: 2px; width: auto">
            <div style="display: flex; margin: 2px;">
              <p style="flex-basis: 50%; margin: 2px;">Tech 1: Enhanced Trauma Management</p>
              <p style="flex-basis: 50%; margin: 2px;">Cost: 2</p>
            </div>
            <p style="margin: 2px;">Modifies the suit to have a more detailed capability of administering appropriate
              measures when physical trauma inflicts the pilot, such as constricting bleeding limbs or stabilizing body
              parts with broken bones.</p>
          </div>
          <div class="choice ewar logistics" id="tech2-surgical-response"
            style="flex-basis: 100%; margin: 2px; width: auto">
            <div style="display: flex; margin: 2px;">
              <p style="flex-basis: 50%; margin: 2px;">Tech 2: Surgical Response</p>
              <p style="flex-basis: 50%; margin: 2px;">Cost: 4</p>
            </div>
            <p style="margin: 2px;">The suit can now perform advanced forms of bodily surgery on the pilot, including
              the removal of foreign objects and the fusing bones together with metal splint implants.</p>
          </div>
          <div class="choice ewar logistics" id="tech3-leyline-override"
            style="flex-basis: 100%; margin: 2px; width: auto">
            <div style="display: flex; margin: 2px;">
              <p style="flex-basis: 50%; margin: 2px;">Tech 3: Leyline Override</p>
              <p style="flex-basis: 50%; margin: 2px;">Cost: 8</p>
            </div>
            <p style="margin: 2px;">Upon receiving fatal damage, the suit attempts to reroute its mana grid to act as
              life support for its pilot above all other functions, keeping them alive until proper care can be
              administered.</p>
          </div>
        </div>
      </span>
    </div>

    <!-- HUD Upgrades Module -->
    <div class="choice" style="flex-basis: 30%; margin: 2px;">
      <span style="margin: 2px;">
        <h3 style="margin: 2px;">HUD Upgrades</h3>
        <div id="choice-hud-upgrades" style="margin: 2px;">
          <div style="margin: 2px;">
            <img src="Images/Equipment/oleg-bercea-9.webp" alt="HUD Upgrades Icon" style="margin: 2px;">
            <p class="p-frame" style="margin-bottom: 0; margin: 2px;">All Apocalypse suits come with a state-of-the-art
              HUD, including multiple modes of vision. However, with access to the pilot's leylines, these can be
              enhanced further.</p>
          </div>
        </div>
        <h4 class="p-frame" style="margin: 2px;">E-War Upgrades : </h4>
        <div style="display: flex; flex-direction: column; flex-grow: 1; margin: 2px;">
          <div class="choice ewar logistics" id="tech1-clairvoyant-resolution"
            style="flex-basis: 100%; margin: 2px; width: auto">
            <div style="display: flex; margin: 2px;">
              <p style="flex-basis: 50%; margin: 2px;">Tech 1: Clairvoyant Resolution</p>
              <p style="flex-basis: 50%; margin: 2px;">Cost: 2</p>
            </div>
            <p style="margin: 2px;">Improves the clarity of visual modules in the suit and also upgrades the built-in
              optics on the HUD to be able to zoom for up to 300x with perfect clarity.</p>
          </div>
          <div class="choice ewar logistics" id="tech2-mana-multivision"
            style="flex-basis: 100%; margin: 2px; width: auto">
            <div style="display: flex; margin: 2px;">
              <p style="flex-basis: 50%; margin: 2px;">Tech 2: Mana Multivision</p>
              <p style="flex-basis: 50%; margin: 2px;">Cost: 4</p>
            </div>
            <p style="margin: 2px;">Enhances the built-in night vision and thermal vision capabilities of the HUD. Also
              provides a new mode of vision for visualizing energy signatures, including mana energy.</p>
          </div>
          <div class="choice ewar logistics" id="tech3-omnidirectional-vision"
            style="flex-basis: 100%; margin: 2px; width: auto">
            <div style="display: flex; margin: 2px;">
              <p style="flex-basis: 50%; margin: 2px;">Tech 3: Omnidirectional Vision</p>
              <p style="flex-basis: 50%; margin: 2px;">Cost: 8</p>
            </div>
            <p style="margin: 2px;">The suit's HUD links up to the pilot's mind through the Neurolink and expands the
              HUD to be able to cover all directions instead of forward. The pilot can see in every direction
              simultaneously.</p>
          </div>
        </div>
      </span>
    </div>

    <!-- Neurolink Boosters Module -->
    <div class="choice" style="flex-basis: 30%; margin: 2px;">
      <span style="margin: 2px;">
        <h3 style="margin: 2px;">Neurolink Boosters</h3>
        <div id="choice-neurolink-boosters" style="margin: 2px;">
          <div style="margin: 2px;">
            <img src="Images/Equipment/neuralink-indotort-midjourney.webp" alt="Neurolink Boosters Icon"
              style="margin: 2px;">
            <p class="p-frame" style="margin-bottom: 0; margin: 2px;">Adds temporary mind boosting effects that transmit
              from your suit through the Neurolink. Overuse can cause strange side effects.</p>
          </div>
        </div>
        <h4 class="p-frame" style="margin: 2px;">E-War Upgrades : </h4>
        <div style="display: flex; flex-direction: column; flex-grow: 1; margin: 2px;">
          <div class="choice ewar logistics" id="tech1-clarity-boost"
            style="flex-basis: 100%; margin: 2px; width: auto">
            <div style="display: flex; margin: 2px;">
              <p style="flex-basis: 50%; margin: 2px;">Tech 1: Clarity Boost</p>
              <p style="flex-basis: 50%; margin: 2px;">Cost: 2</p>
            </div>
            <p style="margin: 2px;">Injects a hormone that gives your mind a boost of hyper clarity, accelerating your
              cognitive thinking and focus on the matter at hand. The pilot can selectively shut out different and
              distracting thought trains.</p>
          </div>
          <div class="choice ewar logistics" id="tech2-pineal-boost" style="flex-basis: 100%; margin: 2px; width: auto">
            <div style="display: flex; margin: 2px;">
              <p style="flex-basis: 50%; margin: 2px;">Tech 2: Pineal Boost</p>
              <p style="flex-basis: 50%; margin: 2px;">Cost: 4</p>
            </div>
            <p style="margin: 2px;">Temporarily suppresses the pilot's emotions while also boosting their cognitive
              thinking by a massive amount to beyond human levels. Judgement and conclusions are made in a
              hyper-pragmatic and almost acausal-like matter.</p>
          </div>
          <div class="choice ewar logistics" id="tech3-trance" style="flex-basis: 100%; margin: 2px; width: auto">
            <div style="display: flex; margin: 2px;">
              <p style="flex-basis: 50%; margin: 2px;">Tech 3: Trance</p>
              <p style="flex-basis: 50%; margin: 2px;">Cost: 8</p>
            </div>
            <p style="margin: 2px;">A very experimental compound that temporarily "melds" your mind into your suit,
              further than standard Neurolink can offer. Greatly increases overall suit capabilities, but veteran users
              claim it causes voices and hallucinations.</p>
          </div>
        </div>
      </span>
    </div>

    <!-- Membrane Upgrades Module -->
    <div class="choice" style="flex-basis: 30%; margin: 2px;">
      <span style="margin: 2px;">
        <h3 style="margin: 2px;">Membrane Upgrades</h3>
        <div id="choice-membrane-upgrades" style="margin: 2px;">
          <div style="margin: 2px;">
            <img src="Images/Equipment/membraneupgrade-indotort-midjourney.webp" alt="Membrane Upgrades Icon"
              style="margin: 2px;">
            <p class="p-frame" style="margin-bottom: 0; margin: 2px;">All Apocalypse pilots must wear a membrane suit in
              order to properly interface with their power armour. However, it can be upgraded to provide additional
              functionality.</p>
          </div>
        </div>
        <h4 class="p-frame" style="margin: 2px;">E-War Upgrades : </h4>
        <div style="display: flex; flex-direction: column; flex-grow: 1; margin: 2px;">
          <div class="choice ewar logistics" id="tech1-phased-membrane"
            style="flex-basis: 100%; margin: 2px; width: auto">
            <div style="display: flex; margin: 2px;">
              <p style="flex-basis: 50%; margin: 2px;">Tech 1: Phased Membrane</p>
              <p style="flex-basis: 50%; margin: 2px;">Cost: 2</p>
            </div>
            <p style="margin: 2px;">The pilot's membrane suit now allows for instant interfacing with their power armour
              to the point where the pilot can essentially "walk" into the armour and almost instantly be activated.</p>
          </div>
          <div class="choice ewar logistics" id="tech2-power-membrane"
            style="flex-basis: 100%; margin: 2px; width: auto">
            <div style="display: flex; margin: 2px;">
              <p style="flex-basis: 50%; margin: 2px;">Tech 2: Power Membrane</p>
              <p style="flex-basis: 50%; margin: 2px;">Cost: 4</p>
            </div>
            <p style="margin: 2px;">The membrane suit enhances all of the user's physical functions to beyond peak human
              capabilities while also being reinforced to reduce damage to the pilot.</p>
          </div>
          <div class="choice ewar logistics" id="tech3-second-skin" style="flex-basis: 100%; margin: 2px; width: auto">
            <div style="display: flex; margin: 2px;">
              <p style="flex-basis: 50%; margin: 2px;">Tech 3: Second Skin</p>
              <p style="flex-basis: 50%; margin: 2px;">Cost: 8</p>
            </div>
            <p style="margin: 2px;">The membrane suit acts as a "neuro-paste," binding more intimately to the skin of
              the pilot. This greatly increases interfacing with power armour and almost meld's the users body to it. As
              a result, it becomes almost impossible to remove.</p>
          </div>
        </div>
      </span>
    </div>





    <div id="title-personalWeapons">
      <span style="text-align: left;">
        <div>
          <h3>Equipment</h3>
          <p style="font-size: 20px;">There is no limit to how many weapons you may purchase. However, you may only get
            the Equipment
            Level gain of your two highest Equipment Level firearms. Grenades do not count towards this max.
          </p>

          <p style="font-size: 20px;">The weapons that your suit can support is determined by its munitions capacity and
            available weapon hard- points. Conventional weapons are split among four different types: kinetic,
            explosive, laser and plasma. Each individual weapon has three main components: the style, the calibre or
            charge, and the ammunition type. </p>
          <h4 style="font-size: 20px;">Weapons have the following stats (<b>yellow</b> stats replace default stats on
            some weapon types):</h4>
          <ul class="p-frame" style="columns: 2;">
            <li>Stopping Power: The ability to incapacitate a moving target.</li>
            <li>Piercing Power: The ability to penetrate material.</li>
            <li>Rate of Fire: The ability to fire rapidly and in succession, including reload speeds.</li>
            <li>Range: The maximum optimal range. </li>
            <li>Accuracy: Accuracy within optimal range.</li>
            <li>Handling: Considers weight and size.</li>
            <li><b>Explosive Power</b>: The amount of force upon detonation as well as blast radius.</li>
            <li><b>Velocity</b>: The maximum potential velocity of the ordinance fired.</li>
            <li><b>Beam Falloff</b>: Diminishing effectiveness of the laser beam after the weapon's initial range.</li>
          </ul>

        </div>
      </span>
    </div>
    <div id="title-handguns">
      <div>
        <span>
          <div>
            <h3>Hand Guns</h3>
            Guns that fit in your hands. Usually used as self-defence or last resort weapons.
          </div>
        </span>
      </div>
    </div>
    <div id="title-submachineguns">
      <div>
        <span>
          <div>
            <h3>Sub-Machine Guns</h3>
            SMGs saw a boom in popularity once space structure combat became a thing. The low calibre reduced the
            possibility of hull breaches and the full-auto made clearing tight spaces easy.
          </div>
        </span>
      </div>
    </div>
    <div id="title-shotguns">
      <div>
        <span>
          <div>
            <h3>Shotguns</h3>
            Like SMGs, shotguns became a stable for space structure combat. Still universally used in all forms of
            combat, too.
          </div>
        </span>
      </div>
    </div>
    <div id="title-rifles">
      <div>
        <span>
          <div>
            <h3>Rifles</h3>
            Carbines, assault rifles, sniper rifles, you name it.
          </div>
        </span>
      </div>
    </div>
    <div id="title-lightweapons">
      <div>
        <span>
          <div>
            <h3>Light Weapons</h3>
            Large weapons that some people have difficulty carrying around. This includes anti-personnel and
            anti-materiel weapons.
          </div>
        </span>
      </div>
    </div>
    <div id="title-launchers">
      <div>
        <span>
          <div>
            <h3>Launchers</h3>
            Weapons that fire large ordnance, usually for anti-materiel purposes.
          </div>
        </span>
      </div>
    </div>
    <div id="title-heavyweapons">
      <div>
        <span>
          <div>
            <h3>Heavy Weapons</h3>
            These weapons cannot be held by normal human beings. They must either be deployed, mounted, or carried with
            assistance of some sort.
          </div>
        </span>
      </div>
    </div>

    <div style="display:none;" id="endOfEquipment"></div>
    <div id="origin-mana">
      <div>
        <span>
          <div>
            <h3>Mana</h3>
            Death is a means of belonging in our universe, so we brought it to bear like ringing steel by our sides.
            Quickened was our dying breaths, unbreakable was the ballad of entropy. You are the composer for a symphony
            of storms to douse the flames.
            Calm not your blade, Rider of Death.
          </div>
        </span>
      </div>
    </div>

    <div id="origin-catalyst">
      <div>
        <span>
          <div>
            <h3>Catalyst</h3>
            In order for a suit to wield mana effectively, it requires a mana catalyst. A single catalyst has the
            capability of executing up to 8 different spells, but also serves as a weapon for close-quarters combat
            since it may project a blade of raw mana that can be shaped with appropriate upgrades.
            All Apocalypse suits come with the base catalyst that can cast any tier 1 spell. It can be upgraded in a
            multitude of ways, and upgrades can focus on a specific subset of spell family or affinity. On the upgrade
            grid below, upgrades are tethered to their prerequisite upgrade. The prerequisite upgrade is signified by a
            glow at the tip of the tether, such as in example on the right.
          </div>
        </span>
      </div>
    </div>

    <div id="endOfCatalyst" style="display: none;"></div>

    <div id="origin-affinities">
      <div>
        <span>
          <div>
            <h3>Affinities</h3>
            Spells have two components to them: the spell base and affinities. A spell base is the medium where the mana
            manifests itself into a physical form, such as an arrow or a wall. An affinity is a specific effect from the
            chosen spell family and tier.
            There are three different family of spell affinities: Paralogical, Elemental and Anticausal. Within each
            family are three different elements, and within each element are three tiers. You may apply any two
            affinities that you have unlocked to a spell base when casting the spell. However, a spell base cannot have
            more than one Tier 3 affinity applied at a time.
          </div>
        </span>
      </div>
    </div>
    <div id="endOfAffinities" style="display: none;"></div>

    <div id="origin-spell">
      <div>
        <span>
          <div>
            <h3>Spells</h3>
            Combined spell bases may be executed in sequence or at the same time. If sequenced, the next spell base may
            execute where the previous spell base terminated. However, the maxi- mum range of the synthesized spell will
            only be as far as the longest-ranged spell base in the combination, and the cooldown is determiend by the
            slowest spell base.
            <h4>Spells have several stats:</h4>
            <ul style="text-align: left; columns: 2; column-gap: 20px;">
              <li>Potency: Determines the effectiveness of the given spell affinities to the base.</li>
              <li>Cooldown: The time it takes to cast the spell. Higher values means shorter times between casts.</li>
              <li>Range: The maximum optimal range that the spell base will travel.</li>
              <li>Velocity: The velocity of the spell projectile after being casted.</li>
              <li>Radius: The radius that the spell base physically encompasses.</li>
              <li>Uptime: The duration that the spell base lingers before dissipating.</li>
              <li>Mana Usage: The amount of mana that the spell base takes to cast, taken from the suit's reserves.</li>
            </ul>
          </div>
        </span>
      </div>
    </div>

    <div id="endOfSpell" style="display: none;"></div>
  </div>

  <!--You-Titles, this will scroll no clickable choices because too long
  dependencies: choice-origin -->
  <div class="section" id="section-titles">
    <div id="title-titles">
      <span>
        <div>
          <h3>Titles</h3>
          To gain a title, you must go through some sort of complication. But when you do, people who speak your name
          will acknowledge your achievement and respect you for it. You can only choose up to two titles to bear.
          .
        </div>
      </span>
    </div>
    <div style="display:none;" id="endOfTitles"></div>
  </div>

  <!--FLEET section-->
  <div class="section" id="section-fleet">
    <button id="choice-toggle-addShip">Add Ship</button> <!--IF pressed, create a ship object-->
  </div>

  <!--TODO: Move this to JS-->
  <!--Ship Section-->
  <div class="section" id="section-ship">
    <div class="choice" id="choice-hull">Hull</div>
    <div class="choice" id="choice-subsystem">Subsystems</div>
    <div class="choice" id="choice-mod">Mods</div>
    <div class="choice" id="choice-weapon">Weapons</div>
    <div class="choice" id="choice-industrial">Drone & Industry</div>
    <div class="choice" id="choice-ewar">E-War Equipment</div>
    <div class="choice" id="choice-room">Rooms & Compartments</div>
  </div>

  <div class="section" id="section-hull">
    <!-- Ship Hulls -->
    <div id="title-hull">
      <span>
        <div>
          <h3>Ship Hulls</h3>
          <p>Now you may purchase your ship, or multiple. There are seven main classes of ship hulls, mainly determined
            by size. Those classes include fighters, frigates, destroyers, cruisers, battleships, carriers, and
            dreadnoughts. While all of these ships are for space-faring, most ships up to the destroyer class can also
            operate within atmospheres that are similar to the Federation's capital planet, New Terra.</p>
        </div>
      </span>
    </div>

    <!-- Ship Stats Information -->
    <div id="title-shipStatInfo">
      <span>
        <div>
          <h3>Ship Stats Information</h3>
          <ul style="font-size: 20px; columns:2; text-align: left;">
            <li><b>Spinal Weapon Mounts:</b> Weapons mounted at the front in an almost fixed, front-facing position.
              Weapons here are larger and deadlier than broadside or point-defence weapons.</li>
            <li><b>Broadside Turret Mounts:</b> Weapons mounted on the sides of a ship. Weapons here are standard sized.
              On frigates or larger, only half of these face your targets at one time. *Limited to T3 weapons or less
            </li>
            <li><b>Point-Defence Mounts:</b> Weapons mounted around the ship for point-defence. Smaller than broadside
              weapons. *Limited to T1 weapons</li>
            <li><b>Hangar Space:</b> Hangar spaces may hold drones or vehicles, and may house fighters for 4 hangar
              spaces each. You may fit frigates in carriers or larger for 8 hangar spaces each. Things that are docked
              in a hangar can re-fit their weapon modules.</li>
            <li><b>Navigation:</b> The rating at which how quickly a ship can accelerate, decelerate, and manoeuvre.
              Cannot go over 25 or under 0.</li>
            <li><b>Hull Armour:</b> The defence of a ship's hull armour. Cannot go over 25 or under 0.</li>
            <li><b>Shield Strength:</b> The defence of a ship's shields. Cannot go over 25 or under 0.</li>
            <li><b>Length:</b> The length of the longest axis of the ship.</li>
            <li><b>Max Crew:</b> A ship's max crew member count.</li>
            <li><b>Extra Rooms:</b> Rooms available for repurposing.</li>
            <li><b>Energy Use:</b> A ship's energy requirements</li>
          </ul>
        </div>
      </span>
    </div>

    <!-- Buying Multiple Ships -->
    <div id="title-buyMultiple">
      <span>
        <div>
          <h3>Buying Multiple Ships</h3>
          <p>If you plan on buying multiple ships, then you should be pleased to hear that you'll get a discount on all
            additional hulls. The ship with the most expensive hull will be your Primary Ship, which will go through
            prices as normal. All additional ship hulls will receive a discount depending on their ship class in
            relation to your Primary Ship:</p>
          <ul>
            <li>Equal or greater: 20% off</li>
            <li>1 class below: 30% off</li>
            <li>2 classes below: 40% off</li>
            <li>3 classes below or lower: 50% off</li>
          </ul>
        </div>
      </span>
    </div>

    <!-- Fighters -->
    <div id="title-fighter">
      <span>
        <div>
          <h3>Fighters</h3>
          <p>Fighters are the smallest ship classes and usually only have enough space for one or two pilots. Fighters
            can't have more than 0 extra rooms.</p>
        </div>
      </span>
    </div>

    <!-- Frigates -->
    <div id="title-frigate">
      <span>
        <div>
          <h3>Frigates</h3>
          <p>Frigates are small and quick, but can still pack a punch. They can equip to either hit hard for fleet
            fights, or equip light for exploring. Frigates cannot have a hangar that exceeds 8 hangar spaces.</p>
        </div>
      </span>
    </div>

    <!-- Destroyers -->
    <div style="width: 100%;" id="title-destroyer">
      <span>
        <div>
          <h3>Destroyers</h3>
          <p>Destroyers are the most common warships seen in most fleets, and for their size, pack a large amount of
            firepower.</p>
        </div>
      </span>
    </div>

    <!-- Cruisers -->
    <div style="width: 100%;" id="title-cruiser">
      <span>
        <div>
          <h3>Cruisers</h3>
          <p>A cruiser can be a platform for almost any operation. Crews start to become less close knit, and more of a
            large community.</p>
        </div>
      </span>
    </div>

    <!-- Corvettes -->
    <div id="title-corvette">
      <span>
        <div>
          <h3>Corvettes</h3>
          <p>Corvettes typically serve as auxillary craft for cruisers and larger vessels. Occasionally corvettes
            operate independently as couriers, explorers,
            picket ships, or wary yachts. Uses frigate rules. May carry out missions intended for frigates, fighters,
            and dropships.</p>
        </div>
      </span>
    </div>

    <!-- Battleships -->
    <div style="width: 100%;" id="title-battleship">
      <span>
        <div>
          <h3>Battleships</h3>
          <p>When things get serious, enter the Battleship. Their presence alone can drastically change the mood of the
            battlefield.</p>
        </div>
      </span>
    </div>

    <!-- Carriers -->
    <div style="width: 100%;" id="title-carrier">
      <span>
        <div>
          <h3>Carriers</h3>
          <p>Carriers forgo the traditional broadside weapon approach and roll with having a large amount of hangar
            space.</p>
        </div>
      </span>
    </div>

    <!-- Dreadnoughts -->
    <div id="title-dreadnought">
      <span>
        <div>
          <h3>Dreadnoughts</h3>
          <p>Large behemoths of the battlefield. The mere appearance sends ripples across the galaxy. Owning one is sure
            to attract a lot of attention.</p>
        </div>
      </span>
    </div>

    <div style="display:none;" id="endOfHull"></div>
  </div>

  <div class="section" id="section-subsystem">
    <div id="title-AI">
      <span>
        <div>
          <h3>Ship AI</h3>
          Ships need a ship Al, so you must choose one that can fit your specific needs. However, all ship Als are more
          than capable of handling most tasks, and can even auto-pilot your ship for you.
        </div>
      </span>
    </div>
    <div style="display: none;" id="endOfAI"></div>
    <div id="title-energy">
      <span>
        <div>
          <h3>Energy Subsystems</h3>
          Your ship needs power, so you must choose at least one energy system.
          You can have up to 2 energy systems and 2 batteries per ship. Total energy output doesn't have to equal its
          ship's energy use requirements (you would use battery charge). If you buy two of the same type, the second one
          is 50% off.
          <ul>
            <li>1 unit of energy output = 1 MW (n<sup>n</sup> thereafter)</li>
            <li>1 unit of battery capacity = 1 TWh (e<sup>n</sup> thereafter)</li>
            <li>1 unit of energy usage = 1 GWh (2<sup>n</sup> thereafter)</li>
            <li>Charge Duration: How long does the energy last in ideal conditions?</li>
          </ul>
        </div>
      </span>
    </div>
    <div style="display: none;" id="endOfEnergy"></div>
    <div id="title-shield">
      <span>
        <div>
          <h3>Shield Subsystems</h3>
          Shield defence is equal to equivalent hull armour ratings. While hull armour can potentially be more
          protective, shields only need recharging as opposed to repairing. To regenerate 1 shield unit, you need 1 unit
          of battery charge. You may only pick 1 shield system per ship.
        </div>
      </span>
    </div>
    <div style="display: none;" id="endOfShield"></div>

  </div>

  <div class="section" id="section-mod">
    <div id="title-mod">
      <span>
        <div>
          <h3>Ship Mods</h3>
          You have your ship, and now you can attach additional modules to change
          how it behaves. The cost of <b>all ship mods</b> are multiplied by your ship's class:
          <ul style="columns:2;">
            <li>Battleship: 3x</li>
            <li>Carrier: 3x</li>
            <li>Dreadnought 4x</li>
            <li>Fighter: 1x</li>
            <li>Frigate: 1x</li>
            <li>Destroyer: 2x</li>
            <li>Cruiser: 2x </li>
          </ul>
        </div>
      </span>
    </div>
    <div id="title-commandMods">
      <span>
        <div>
          <h3>Command Mods</h3>
          These mods add a special ability to your ship. You may only attach one command mod per ship. Their effects
          scale with your ship size.
        </div>
      </span>
    </div>
    <div id="title-hullMods">
      <span>
        <div>
          <h3>Hull Mods</h3>
          A lot of pilots aren't satisfied with the capabilities of the base hull of their
          ship, so they tend to add additional mods to their liking.
          <b>Dreadnoughts can't fit hull mods</b>

        </div>
      </span>
    </div>
    <div style="display:none;" id="endOfMod"></div>
  </div>

  <div class="section" id="section-weapon">
    <div id="title-weapon">
      <span>
        <div>
          <h3>Ship Weapons</h3>
          Almost every ship that enters space is equipped with some form of self defence. With our practiced art in
          warfare, weapons have come a long way. A weapon's cost is reduced after purchasing it once (in brackets).
        </div>
      </span>
    </div>
    <div style="width: 1250px;" id="weapon-info">
      <span>
        <h3>Weapon Stat Information</h3>
        <div style="display: flex; flex-basis: 25%;">
          <div style="font-size: 20px; text-align: left; justify-content: left;">
            <p>
            <h3>Tier:</h3>
            The grading of the weapon, concerning size, weight, and damage potential.
            <p>
            <h3>Damage Per Volley:</h3>
            The amount of damage that can be inflicted by a single volley from the weapon. </p>
          </div>
          <div style="font-size: 20px; text-align: left; justify-content: left;">
            <p>
            <h3>Rate of Fire:</h3>
            The amount of volleys a weapon can fire per minute.</p>
            <p>
            <h3>Accuracy:</h3>
            The likelihood that a projectile from the weapon will hit its target, concerning recoil and trajectory.</p>
          </div>
          <div style="font-size: 20px; text-align: left; justify-content: left;">
            <p>
            <h3>Range:</h3>
            The effective distance that a weapon can fire to still hit its target with maximum integrity.</p>
            <p>
            <h3>Projectile Velocity: </h3>
            The velocity of a weapon's ordnance.</p>
          </div>
          <div style="font-size: 20px; text-align: left; justify-content: left;">
            <p>
            <h3>Tracking:</h3>
            The ability of the weapon to track its targets, concerning turret rotation, tracking computer accuracy, and
            (if missiles) the ability for projectiles to follow targets.</p>
            <p>
            <h3>Weapon Types:</h3>
            The archetype of a weapon, be it a kinetic-based weapon, energy-based weapon, blaster-based weapon, or
            explosive-based weapon. </p>
          </div>
        </div>
      </span>
    </div>

    <div class="weapons-point-bar">
      <div id="spinal-credits-display"> Remaining Spinal Slots: 0
      </div>
      <div id="broadside-credits-display">Remaining Broadside Slots: 0
      </div>
      <div id="pointdefence-credits-display">Remaining Point Slots: 0
      </div>
    </div>

    <div style="display: none;" id="endOfWeapons"></div>
  </div>

  <div class="section" id="section-industrial">
    <div id="title-industrial" style="width: 100%;">
      <span>
        <div>
          <h3>Industrial Implements</h3>
          There are plenty of other implements to equip on your ship that aren't warfare based.
        </div>
      </span>
    </div>
    <div style="display:none;" id="endOfIndustrial"></div>
  </div>

  <div class="section" id="section-ewar">
    <div id="title-ewar">
      <span>
        <div>
          <h3>E-War Equipment</h3>
          Having a strong e-war offensive can be just as powerful as conventional weapons. Each e-war module can only be
          equipped once per ship, and requires a digital security room in order to operate.
        </div>
      </span>
    </div>

    <div style="display:none;" id="endOfEwar"></div>
  </div>

  <div class="section" id="section-room">
    <div id="title-room">
      <span>
        <div>
          <h3>Rooms & Compartments</h3>
          If your ship has extra rooms for refurnishing or repurposing, you can turn them into something useful. Some
          rooms can combine with others to only take up 1 room slot. The size of most rooms scale with your ship size.
          Energy inputs (i.e. uranium, thorium, mana stones) require a storage room.
        </div>
      </span>
    </div>
    <div style="display:none;" id="endOfRooms"></div>
  </div>

  <div class="section" id="section-crew">
    <div id="title-namedCrew">
      <span style="text-align: left;">
        <div>
          <h3>Named Crew</h3>
          Each crew member takes up one slot on your ship. If you've got more ships, they'll need pilots too! Don't hire
          anyone who's hostile to your origin, that's just asking for trouble.
          <ul>
            <li>Pilots: Fighters and frigates can have up to 2 pilots. Destroyers or bigger ships can have 3 pilots.
            </li>
            <li> You, the captain, count as one of the pilots on the ship you're flying. </li>
          </ul>
        </div>
      </span>
    </div>
    <div id="title-engineerCrew">
      <span style="text-align: left;">
        <div>
          <h3>Engineers</h3>
          Engineers repair damage, maintain subsystems, and operate everything on the ship basically. They will lead the
          engineering crew and control the repair drones.
        </div>
      </span>
    </div>
    <div id="title-doctorCrew">
      <span style="text-align: left;">
        <div>
          <h3>Doctors</h3>
          Doctors heal the crew, treat injuries, and can even perform surgery if needed. They will lead the medical crew
          and maintain the medbay.
        </div>
      </span>
    </div>
    <div id="title-gunnerCrew">
      <span style="text-align: left;">
        <div>
          <h3>Gunner</h3>
          Gunners operate the ship's weapons systems, ensuring optimal performance and accuracy during combat. Can be
          replaced by AI for non-spinal weapons.
        </div>
      </span>
    </div>
    <div id="title-combatCrew">
      <span style="text-align: left;">
        <div>
          <h3>Combat & Security</h3>
          You need soldiers to board enemy ships, launch invasions, and defend your own ship from boarders. They can be
          your generals in a planetary war.
        </div>
      </span>
    </div>

    <div id="title-cybersecCrew">
      <span style="text-align: left;">
        <div>
          <h3>Cyber Security</h3>
          Cyber Security specialists protect the ship's systems from hacking and other digital threats. You can't rely
          on AI for this job.
        </div>
      </span>
    </div>

    <div id="title-mageCrew">
      <span style="text-align: left;">
        <div>
          <h3>Mages</h3>
          Anomalous individuals who can wield mana. Most factions don't believe their existence and consider them crazy.
        </div>
      </span>
    </div>

    <div id="title-scientistCrew">
      <span style="text-align: left;">
        <div>
          <h3>Scientists</h3>
          Scientists can help with research, terraforming, and understanding Herald technology. If pushed, they can
          replace engineers.
        </div>
      </span>
    </div>

    <div id="title-productionCrew">
      <span style="text-align: left;">
        <div>
          <h3>Production Managers</h3>
          Production Managers oversee mining, manufacturing, and trading operations. They will handle the ship's
          economy, refueling, and resource management. Some ships allow their members to operate their own business,
          making the ship into a 'country'.
        </div>
      </span>
    </div>

    <div id="title-chefs">
      <span style="text-align: left;">
        <div>
          <h3>Chefs</h3>
          Chefs keep the crew well-fed and happy. A well-fed crew is a productive crew.
        </div>
      </span>
    </div>

    <div style="display:none;" id="endOfCrew"></div>
    <div id="title-archetypes" style="width: 100%;">
      <span>
        <div>
          <h3>Crew Archetypes</h3>
          These fill out your ship's crew slots, and big ships (Destroyers or larger) need at least half their slots
          filled!
        </div>
      </span>
    </div>
    <div style="display:none;" id="endOfArchetype"></div>

  </div>

  <!-- Point Bar at the bottom-->
  <div class="point-bar">

    <div id="frameCredits-display"> Frame Resources: 0
    </div>
    <div id="credits-display">Credits: 0
    </div>
    <div id="crew-display"> Required crew: 0
    </div>

  </div>

  <div class="fixed-scroll-button">
    <button id="scrollButton" class="scroll-button">
      <!-- Downward Arrow Icon -->
      <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor">
        <path stroke-linecap="round" stroke-linejoin="round" d="M4.5 15.75 12 8.25l7.5 7.5" />
      </svg>
    </button>
  </div>
  <!-- Modal Pop-up-->
  <div id="modalOverlay" class="modal-overlay">
    <div class="modal-popup">
      <button id="closeModalButton" class="close-button">
        &times;
      </button>
      <div id="summary-popup" class="container">
        <div id="frameCard" class="card-wrapper frame-card"></div>
        <div id="hullCardList" class="hull-card-list"></div>
      </div>
    </div>
  </div>

  <script type="module">
    import {
      switchChoose, handleChoiceRigs, handleChoiceVehicle, handleChoiceCrew, getImgName,
      handleChoiceGun, updateSummary,
    } from '/stardustCYOA/Script/switchChoose.js';
    //populate titles
    import { titles, skills, addTitlesToSection, startPos } from '/stardustCYOA/Script/choiceData.js';

    import { crew, archetype, addCrewToSection } from '/stardustCYOA/Script/crewData.js'; // Import crew data
    //populate hulls
    import {
      hulls, shipAI, energy, shield, mods, industrial, eWar, rooms, weapons, drones,
      populateHullToSection, updateWeaponSlot, hullDiscount, sponsorHullDiscount, weaponDiscount,
    } from '/stardustCYOA/Script/shipData.js';
    //populate equipment
    import {
      equipment, vehicles, rigs, populateRigs, populateVehicles, handleFrame, createFrame,
      guns, addGunDataToSection,
    } from '/stardustCYOA/Script/equipmentData.js';
    //populate spells and unified population function
    import {
      catalyst, affinity, spellBases, populateDataToSection, populateCatalystToSection, appendDropdown, formatterIntl,
      appendParagraph, appendList1, createAffinityTable,
    } from '/stardustCYOA/Script/manaData.js';



    // Get references to the elements
    const choiceLore1 = document.getElementById('choice-lore');
    const sectionLore1 = document.getElementById('section-lore');
    const choiceYou1 = document.getElementById('choice-you');
    const sectionYou1 = document.getElementById('section-you');

    const choiceMoneySource1 = document.getElementById('choice-moneysource');
    const sectionMoneySource1 = document.getElementById('section-moneysource');
    const chooseGambling1 = document.getElementById('choose-gambling');
    const chooseTheft1 = document.getElementById('choose-theft');
    const chooseRetired1 = document.getElementById('choose-retired');
    const chooseInvest1 = document.getElementById('choose-invest');
    const chooseSponsorScam1 = document.getElementById('choose-sponsorScam');


    const choiceOrigin1 = document.getElementById('choice-origin');
    const sectionOrigin1 = document.getElementById('section-origin');

    const choiceEquipment1 = document.getElementById('choice-equipment');
    const sectionEquipment1 = document.getElementById('section-equipment');
    const sectionSpell1 = document.getElementById('origin-spell');
    const sectionAffinities1 = document.getElementById('origin-affinities');
    const sectionCatalyst1 = document.getElementById('origin-catalyst');
    const sectionMana1 = document.getElementById('origin-mana');


    const choiceFleet1 = document.getElementById('choice-fleet');
    const sectionFleet1 = document.getElementById('section-fleet');
    const choiceShip1 = document.getElementById('choice-ship');
    const sectionShip1 = document.getElementById('section-ship');
    const choiceHull1 = document.getElementById('choice-hull');
    const sectionHull1 = document.getElementById('section-hull');


    const choiceSubsystem1 = document.getElementById('choice-subsystem');
    const choiceMod1 = document.getElementById('choice-mod');
    const sectionMod1 = document.getElementById('section-mod');
    const choiceWeapon1 = document.getElementById('choice-weapon');
    const sectionWeapon1 = document.getElementById('section-weapon');
    const choiceIndustrial1 = document.getElementById('choice-industrial');
    const sectionIndustrial1 = document.getElementById('section-industrial');
    const choiceEwar1 = document.getElementById('choice-ewar');
    const sectionEwar1 = document.getElementById('section-ewar');
    const choiceRoom1 = document.getElementById('choice-room');
    const sectionRoom1 = document.getElementById('section-room');



    const sectionToggleMap = {
      'choice-lore': 'section-lore',
      'choice-you': 'section-you',
      'choice-moneysource': 'section-moneysource',
      'choose-gambling': 'section-moneysource',
      'choose-theft': 'section-moneysource',
      'choose-retired': 'section-moneysource',
      'choose-invest': 'section-moneysource',
      'choose-sponsorScam': 'section-moneysource',

      //sponsor
      'choice-sponsor': 'section-sponsor',
      "choose-navy": 'section-sponsor',
      "choose-seal": 'section-sponsor',
      "choose-civillian": 'section-sponsor',
      "choose-blackhawk": 'section-sponsor',
      "choose-pirates": 'section-sponsor',
      "choose-luos": 'section-sponsor',
      "choose-talons": 'section-sponsor',
      "choose-dustkeepers": 'section-sponsor',
      "choose-gazers": 'section-sponsor',
      "choose-io": 'section-sponsor',
      "choose-hammerhead": 'section-sponsor',
      "choose-beatrice": 'section-sponsor',
      "choose-noSponsor": 'section-sponsor',


      'choice-equipment': 'section-equipment',


      'choice-fleet': 'section-fleet',
      'choice-ship': 'section-ship',
      'choice-hull': 'section-hull',

      //crew
      'choice-crew': 'section-crew',
      'choice-origin': 'section-origin',

      //titles
      'choice-titles': 'section-titles',
      'title-rogue': 'section-titles',
      'title-whisperer': 'section-titles', 'title-old-timer': 'section-titles', 'title-ghost': 'section-titles', 'title-leader': 'section-titles', 'title-saint': 'section-titles', 'title-berserk': 'section-titles', 'title-nemesis': 'section-titles', 'title-harbinger': 'section-titles', 'title-prisoner': 'section-titles', 'title-space-cowboy': 'section-titles', 'title-sleeper': 'section-titles', 'title-traveler': 'section-titles', 'title-guardian': 'section-titles', 'title-sorcerer': 'section-titles', 'title-hellraiser': 'section-titles', 'title-fatebreaker': 'section-titles', 'title-demigod': 'section-titles',

      //startingPos
      'choose-new-terra': 'section-origin', 'choose-arcadia': 'section-origin', 'choose-laporte': 'section-origin', 'choose-dellsin': 'section-origin', 'choose-wayward': 'section-origin', 'choose-capitolus': 'section-origin', 'choose-archer': 'section-origin', 'choose-ysgard': 'section-origin', 'choose-ragnarok': 'section-origin', 'choose-valhalla': 'section-origin', 'choose-talon-prime': 'section-origin', 'choose-zona': 'section-origin', 'choose-ten-cred': 'section-origin', 'choose-las-stop': 'section-origin', 'choose-detritus': 'section-origin', 'choose-exodus': 'section-origin', 'choose-haven': 'section-origin', 'choose-olympus': 'section-origin', 'choose-erebus': 'section-origin', 'choose-abyss': 'section-origin', 'choose-star-dust': 'section-origin', 'choose-br-5rb': 'section-origin', 'choose-dl7-2e': 'section-origin', 'choose-crown-forge': 'section-origin', 'choose-clover-region': 'section-origin', 'choose-mjolnir': 'section-origin', 'choose-prion': 'section-origin', 'choose-bastion': 'section-origin', 'choose-synchordia': 'section-origin',

      //skills
      'skill-basic-piloting': 'section-origin',
      'skill-standard-piloting': 'section-origin',
      'skill-advanced-piloting': 'section-origin',
      'skill-ship-gunnery': 'section-origin',
      'skill-ship-weapon-specialization': 'section-origin',
      'skill-medical': 'section-origin',
      'skill-computer-science': 'section-origin',
      'skill-cyber-security': 'section-origin',
      'skill-mechanics': 'section-origin',
      'skill-nuclear': 'section-origin',
      'skill-industry': 'section-origin',
      'skill-diplomacy': 'section-origin',
      'skill-mind-link': 'section-origin',
      'skill-mercantile': 'section-origin',
      'skill-basicTraining': 'section-origin',
      'skill-closeQuartersCombat': 'section-origin',
      'skill-security': 'section-origin',
      'skill-patrol': 'section-origin',
      'skill-advanced-firearms': 'section-origin',
      'skill-field-medic': 'section-origin',
      'skill-hit': 'section-origin',
      'skill-recovery': 'section-origin',
      'skill-long-ranged-combat': 'section-origin',
      'skill-wilderness-survival': 'section-origin',
      'skill-raid': 'section-origin',
      'skill-infiltration': 'section-origin',
      'skill-demolition': 'section-origin',
      'skill-combat-driving': 'section-origin',
      'skill-assault': 'section-origin',
      'skill-guerilla': 'section-origin',
      'skill-weaponsmith': 'section-origin',
      'skill-combat-engineering': 'section-origin',
      'skill-leadership': 'section-origin',
      'skill-defence': 'section-origin',
    };

    const originToggleArray = ['origin-startingPos', 'origin-skills', 'origin-mana', 'origin-catalyst', 'origin-spell', 'origin-affinities'];


    document.addEventListener('click', (event) => {
      // Check if the clicked element (or its closest parent) has the 'choice' class
      const choiceElement = event.target.closest('.choice');
      const crewChoiceElement = event.target.closest('.crew');
      const choiceGun = event.target.closest('.gun');
      const choiceAffinity = event.target.closest('.affinity-item'); //for affinity

      //handle choice of crew, if not archetype
      if (crewChoiceElement) {
        handleChoiceCrew(crewChoiceElement);
      } else if (choiceGun) {
        console.log(choiceGun);
        handleChoiceGun(choiceGun);

      } else if (choiceElement) {
        const id = choiceElement.id; // Get the ID of the clicked choice
        const targetSectionID = sectionToggleMap[id];
        const sectionToToggle = document.getElementById(targetSectionID);

        /*if a frame is active, 
          switchChoose(id, choiceElement, sectionToToggle, originToggleArray, frames);
        */
        //handles all choices
        switchChoose(id, choiceElement, sectionToToggle, originToggleArray, player);
      } else if (choiceAffinity) {
        const id = choiceAffinity.id; // Get the ID of the clicked choice
        let sectionToToggle = '';
        switchChoose(id, choiceAffinity, sectionToToggle, originToggleArray, player);
      }
    });

    choiceEquipment1.addEventListener('click', () => {
      choiceEquipment1.classList.toggle('active');
      sectionEquipment1.classList.toggle('visible');
      sectionAffinities1.classList.toggle('visible');
      sectionCatalyst1.classList.toggle('visible');
      sectionSpell1.classList.toggle('visible');
      sectionMana1.classList.toggle('visible');
    });

    document.getElementById("credits-display").innerHTML = `Credits: ` + formatterIntl.format(player.credits);



    //populate skills, titles, and crew
    function addChoiceDataToSection(choiceArray, choicePrefix, sectionID) {
      const targetSection = document.getElementById(sectionID);

      if (!targetSection) {
        console.error(`Target section with ID "${sectionID}" not found.`);
        return;
      }

      if (!Array.isArray(choiceArray)) {
        console.error(`Global variable "${choiceArray}" is not an array or does not exist.`);
        return;
      }
      const checkDiv = document.getElementById(choiceArray[0].id);
      //check if section already has population
      if (document.contains(checkDiv)) {
        return;
      } else {
        //if not, create new divs to populate choices
        choiceArray.forEach(item => {
          const newDiv = document.createElement("div");
          newDiv.classList.add("choice");
          newDiv.classList.add(`section-${choicePrefix}`);
          // Ensure unique ID for each choice element
          newDiv.id = `${item.id}`;
          const newSpan = document.createElement("span");
          newDiv.appendChild(newSpan);

          // Set the src attribute using the image path from the object
          const imgElement = document.createElement('img');
          imgElement.src = item.imageSrc;
          newSpan.appendChild(imgElement);

          // Create an h3 element for the title
          const h3Element = document.createElement('h3');
          h3Element.style.marginTop = '0px';
          h3Element.style.marginBottom = '0px';
          h3Element.textContent = item.title || 'No Title'; // Use textContent for plain text
          newSpan.appendChild(h3Element);

          const newSpanDiv = document.createElement("div");
          newSpanDiv.classList.add("choice-cost");
          // Determine if it's a 'gain' or 'cost' based on the item's properties or context
          // Assuming 'cost' property implies a cost, otherwise it's a gain.

          newSpanDiv.innerHTML = `cost: ` + formatterIntl.format(item.credits);

          const prereqDiv = document.createElement("div");
          prereqDiv.classList.add("choice-prereq");
          if (!item.prerequisites.length) {
            prereqDiv.innerText = 'Prerequisites: none';
          } else {
            prereqDiv.innerText = `Prerequisites: ${item.prerequisites}`;

          }

          const newP = document.createElement("p");
          newP.innerHTML = item.description;
          newSpan.appendChild(newSpanDiv);
          newSpan.appendChild(prereqDiv);
          newSpan.appendChild(newP);
          targetSection.before(newDiv); // Append to the target section
        });
      }
    }

    //similar to addChoiceDataToSection but only for hulls
    //TODO: do the hulls separately (e.g. frigate, dreadnought)
    function addHullDataToSection(hullArray, choicePrefix, sectionID) {
      const targetSection = document.getElementById(sectionID);

      if (!targetSection) {
        console.error(`Target section with ID "${sectionID}" not found.`);
        return;
      }

      if (!Array.isArray(hullArray)) {
        console.error(`Global variable "${hullArray}" is not an array or does not exist.`);
        return;
      }

      // Check if the section already has population to prevent duplicate entries
      // Assuming the first item's ID is representative for checking
      if (hullArray.length > 0) {
        const checkDiv = document.getElementById(`${choicePrefix}-${hullArray[0].name.replace(/\s/g, '-')}`);
        if (document.contains(checkDiv)) {
          return; // Section already populated, do nothing
        }
      }

      // If not populated, create new divs to populate choices
      hullArray.forEach(item => {
        const newDiv = document.createElement("div");
        newDiv.classList.add("choice-ship");
        // Ensure unique ID for each choice element, sanitize name for ID
        newDiv.id = `${choicePrefix}-hull-${item.name.replace(/\s/g, '-')}`;

        const newSpan = document.createElement("span");
        newDiv.appendChild(newSpan);

        // Set the src attribute using the image path from the object
        const imgElement = document.createElement('img');
        imgElement.src = item.image;
        imgElement.alt = `${item.name} image`; // Add alt text for accessibility
        newSpan.appendChild(imgElement);

        // Create an h3 element for the title (ship name)
        const h3Element = document.createElement('h3');
        h3Element.style.marginTop = '0px';
        h3Element.style.marginBottom = '0px';
        h3Element.textContent = item.name || 'No Name';
        newSpan.appendChild(h3Element);

        // Manufacturer
        const manufacturerP = document.createElement('p');
        manufacturerP.textContent = `Manufacturer: ${item.manufacturer || 'N/A'}`;
        newSpan.appendChild(manufacturerP);

        // Type
        const typeP = document.createElement('p');
        typeP.textContent = `Type: ${item.type || 'N/A'}`;
        newSpan.appendChild(typeP);

        // Cost
        const costP = document.createElement('p');
        // Assuming formatterIntl is defined globally or passed in
        costP.innerHTML = `Cost: ${typeof item.cost === 'number' ? (typeof formatterIntl !== 'undefined' ? formatterIntl.format(item.cost) : item.cost) : 'N/A'}`;
        newSpan.appendChild(costP);

        // Spinal Mount
        const spinalMountP = document.createElement('p');
        spinalMountP.textContent = `Spinal Mounts: ${item.spinalMount || 0}`;
        newSpan.appendChild(spinalMountP);

        // Broadside Mount
        const broadsideMountP = document.createElement('p');
        broadsideMountP.textContent = `Broadside Mounts: ${item.broadsideMount || 0}`;
        newSpan.appendChild(broadsideMountP);

        // Point Defence Mount
        const pointDefenceMountP = document.createElement('p');
        pointDefenceMountP.textContent = `Point Defence Mounts: ${item.pointDefenceMount || 0}`;
        newSpan.appendChild(pointDefenceMountP);

        // Hangar Space
        const hangarSpaceP = document.createElement('p');
        hangarSpaceP.textContent = `Hangar Space: ${item.hangarSpace || 0}`;
        newSpan.appendChild(hangarSpaceP);

        // Navigation
        const navigationP = document.createElement('p');
        navigationP.textContent = `Navigation: ${item.navigation || 0}/25`;
        newSpan.appendChild(navigationP);

        // Hull Armor
        const hullArmorP = document.createElement('p');
        hullArmorP.textContent = `Hull Armor: ${item.hullArmor || 0}/25`;
        newSpan.appendChild(hullArmorP);

        // Shield Strength
        const shieldStrengthP = document.createElement('p');
        shieldStrengthP.textContent = `Shield Strength: ${item.shieldStrength || 0}/25`;
        newSpan.appendChild(shieldStrengthP);

        // Length
        const lengthP = document.createElement('p');
        lengthP.textContent = `Length: ${item.length || 'N/A'}`;
        newSpan.appendChild(lengthP);

        // Max Crew
        const maxCrewP = document.createElement('p');
        maxCrewP.textContent = `Max Crew: ${item.maxCrew || 0}`;
        newSpan.appendChild(maxCrewP);

        // Extra Rooms
        const extraRoomsP = document.createElement('p');
        extraRoomsP.textContent = `Extra Rooms: ${item.extraRooms || 0}`;
        newSpan.appendChild(extraRoomsP);

        // Energy Use
        const energyUseP = document.createElement('p');
        energyUseP.textContent = `Energy Use: ${item.energyUse || 0}`;
        newSpan.appendChild(energyUseP);

        // Description
        const descriptionP = document.createElement("p");
        descriptionP.innerHTML = item.description || 'No description available.';
        newSpan.appendChild(descriptionP);

        targetSection.before(newDiv); // Append to the target section
      });
    }


    //make choices visible (populate)
    const choiceSkills1 = document.getElementById('origin-skills');

    //populate skills & mana
    choiceOrigin1.addEventListener('click', () => {
      addChoiceDataToSection(skills, 'skills', 'endOfSkills');

    });

    const choiceTitles1 = document.getElementById('choice-titles');
    const sectionTitles1 = document.getElementById('section-titles');
    choiceTitles1.addEventListener('click', () => {
      sectionTitles1.classList.toggle('active');
      addTitlesToSection(titles, 'endOfTitles');
    });

    const choiceCrew1 = document.getElementById('choice-crew');
    const sectionCrew1 = document.getElementById('section-crew');
    choiceCrew1.addEventListener('click', () => {
      sectionCrew1.classList.toggle('active');
      addCrewToSection(crew, 'choice', 'endOfCrew', 'crew');
      addCrewToSection(archetype, 'choice', 'endOfArchetype', 'archetype');
    });

    choiceHull1.addEventListener('click', () => {
      //choiceHull1.classList.toggle('active');
      sectionHull1.classList.toggle('active');
      populateHullToSection(hulls, 'choice',);
    });

    //to handle frames and rigs
    document.addEventListener('click', (event) => {

      if (event.target.closest('.choice-frame-upgrade')) {

        const choiceFrame = event.target.closest('.choice-frame-upgrade');
        handleFrame(choiceFrame);
      } else if (event.target.closest('.choice-frame')) {

        const choiceFrame = event.target.closest('.choice-frame');
        handleFrame(choiceFrame);
      } else if (event.target.closest('.choice-rigs')) { //handle rigs
        const choiceRig = event.target.closest('.choice-rigs');
        switch (choiceRig.id) {
          case 'vehicle-dunebuggy':
          case 'vehicle-MLUV':
          case 'vehicle-APC':
          case 'vehicle-terrain-tank':
          case 'vehicle-heavy-tank':
          case 'vehicle-spider-tank':
          case 'vehicle-ground-mech':
          case 'vehicle-heavy-ground-mech':
          case 'vehicle-og-mobile-suit':
          case 'vehicle-submarine':
          case 'vehicle-lamprey-boarding-ship':
          case 'vehicle-drop-ship':
            handleChoiceVehicle(choiceRig, 0, vehicles);
            break;
          case 'vehicle-armoured-rover':
          case 'vehicle-tyrant':
          case 'vehicle-stingray':
          case 'vehicle-conduit':
          case 'vehicle-dropship':
          case 'vehicle-golem':
          case 'vehicle-dunebike':
          case 'vehicle-doppelsoldner':
            handleChoiceVehicle(choiceRig, 1, vehicles);
            break;
          default:
            const parts = choiceRig.id.split('-');
            const rigType = parts[0];
            handleChoiceRigs(choiceRig, 1, rigType);
            break;
        }
      }

    });

    //for affinity
    const affHeaders = [
      "PARALOGICAL AFFINITIES",
      "ELEMENTAL AFFINITIES",
      "ANTICAUSAL AFFINITIES",
    ];

    choiceEquipment1.addEventListener('click', () => {
      sectionEquipment1.classList.toggle('active');
      populateRigs(rigs, 'choice', 'endOfRigs');
      populateVehicles(vehicles, 'choice', 'endOfVehicles');
      addGunDataToSection(); //populate guns
      populateCatalystToSection(catalyst, 'catalyst', 'endOfCatalyst'); //populate catalyst
      createAffinityTable(affinity, affHeaders, 'endOfAffinities')
      //populateCatalystToSection(affinity, 'choice', 'endOfAffinities');
      populateCatalystToSection(spellBases, 'spell', 'endOfSpell'); //populate spells
    });


    choiceMod1.addEventListener('click', () => {
      choiceMod1.classList.toggle('active');
      sectionMod1.classList.toggle('visible');
      populateDataToSection(mods, 'choice', 'endOfMod', 'mod');
    });

    choiceWeapon1.addEventListener('click', () => {
      choiceWeapon1.classList.toggle('active');
      sectionWeapon1.classList.toggle('visible');
      populateDataToSection(weapons, 'choice', 'endOfWeapons', 'weapon');
    });

    const sectionSubsystem1 = document.getElementById('section-subsystem');
    choiceSubsystem1.addEventListener('click', () => {
      choiceSubsystem1.classList.toggle('active');
      sectionSubsystem1.classList.toggle('visible');
      populateDataToSection(shipAI, 'choice', 'endOfAI', 'shipAI');
      populateDataToSection(energy, 'choice', 'endOfEnergy', 'energy');
      populateDataToSection(shield, 'choice', 'endOfShield', 'shield');
    });

    choiceIndustrial1.addEventListener('click', () => {
      choiceIndustrial1.classList.toggle('active');
      sectionIndustrial1.classList.toggle('visible');
      populateDataToSection(industrial, 'choice', 'endOfIndustrial', 'industrial');
    });

    choiceEwar1.addEventListener('click', () => {
      choiceEwar1.classList.toggle('active');
      sectionEwar1.classList.toggle('visible');
      populateDataToSection(eWar, 'choice', 'endOfEwar', 'ewar');
    });

    choiceRoom1.addEventListener('click', () => {
      choiceRoom1.classList.toggle('active');
      sectionRoom1.classList.toggle('visible');
      populateDataToSection(rooms, 'choice', 'endOfRooms', 'room');
    });




    //Ship Creation Script
    import {
      createShip, deleteShip, addHullToShip, addAI, addEnergyGen, addShield,
      addCommandMod, addHullMod, addToHangar, addShipEquipment, addRoom,
      resetShipConfigUI, renderShipConfigUI
    } from '/stardustCYOA/Script/shipData.js'; // Import the createShip function from ship.js

    //create a function for each attribute because each attribute has different requirements
    const toggleAddShip1 = document.getElementById('choice-toggle-addShip'); // Get the button to add a ship

    //add Ship and assign map
    let shipObjectCounter = 0; // Initialize ship counter
    toggleAddShip1.addEventListener('click', () => {
      shipObjectCounter++; // Increment ship counter each time button is clicked
      //create ship object
      const shipDiv1 = document.createElement("div");
      shipDiv1.classList.add("object-div");
      shipDiv1.id = `section-ship-object-${shipObjectCounter}`; // Set the ID for the ship object
      shipDiv1.style.border = "none";
      shipDiv1.innerHTML = `
        <div class="ship-actions">
          <button title="delete ship" class="x-button" id="delete-ship-button">x</button>
        </div>
        <div class="ship-actions">
          <button title="SELECT SHIP" class="blank-button" id="blank-button"></button>
        </div>
        <div class="ship-actions">
          <button title="edit ship name" class="edit-button" id="edit-ship-button">✏️</button>
        </div>
        
        <div style="border: none;" class="ship-name" id="shipName" contenteditable="true">Ship ${shipObjectCounter}</div>
      `;
      toggleAddShip1.after(shipDiv1); // Append the new ship object after the button
      console.log(`Ship object ${shipObjectCounter} created with ID: ${shipDiv1.id}`);

      //create object to map div to ship object
      const ship1 = createShip(); // Create a new ship object 
      player.currentActiveShip = null;
      if (sectionFleet1.querySelector('.active')) {
        sectionFleet1.querySelector('.active').classList.remove('active');
        sectionShip1.classList.remove('visible');
      }
      // Add the ship object to the player's current active ships
      player.ships[shipDiv1.id] = ship1;
    });

    //event listener for current active ship
    // Ensure sectionFleet1 exists before adding event listener
    sectionFleet1.addEventListener('click', (event) => {
      const clickedObjectDiv = event.target.closest('.object-div');

      if (clickedObjectDiv) {
        const clickedShipId = clickedObjectDiv.id;
        let nameOfHull = clickedObjectDiv.id.replace('choice-', ''); // Extract the ship ID from the clicked element')
        //check if there are no choices clicked


        // Check if the clicked ship is already the active ship
        if (player.currentActiveShip === clickedShipId) {
          // If the same ship is clicked again, deactivate it and reset UI
          clickedObjectDiv.classList.remove('active');
          player.currentActiveShip = null; // Clear the current active ship
          resetShipConfigUI('section-hull'); // Pass null to reset all UI sections
          sectionShip1.classList.remove('visible');
          console.log(`Ship ${clickedShipId} deactivated. Configuration UI reset.`);

          //check if there is another ship active
        } else if (sectionFleet1.querySelector('.active')) {
          sectionFleet1.querySelector('.active').classList.remove('active'); // Remove active class from any previously active ship
          clickedObjectDiv.classList.add('active');
          player.currentActiveShip = clickedShipId; // Set the clicked ship as the current active ship
          renderShipConfigUI(player.currentActiveShip);
          sectionShip1.classList.add('visible');
          updateWeaponSlot();
          console.log(`Ship ${clickedShipId} activated with hull: ${nameOfHull}.`);
        } else {
          // Set the new active ship
          player.currentActiveShip = clickedShipId;
          clickedObjectDiv.classList.add('active'); // Activate the clicked ship in UI
          // Assign the hull to the hull object
          console.log(`Ship ${clickedShipId} activated.`);
          renderShipConfigUI(player.currentActiveShip)
          sectionShip1.classList.add('visible');
          updateWeaponSlot();

          //player.ships[clickedShipId].hull = hulls.find(hull => hull.name === nameOfHull);
        }
      }
    });

    //delete ship function and edit ship function 
    sectionFleet1.addEventListener('click', (event) => {
      const deleteButton = event.target.closest('[id="delete-ship-button"]');
      const editButton = event.target.closest('[id="edit-ship-button"]');
      // Get the main ship container div, which is an ancestor of both buttons
      const clickedObjectDiv = event.target.closest('.object-div');

      if (deleteButton) {
        let shipToDelete = deleteButton.closest('.object-div');
        delete player.ships[shipToDelete.id];
        player.currentActiveShip = null; // Clear the current active ship
        resetShipConfigUI('section-hull'); // Pass null to reset all UI sections
        sectionShip1.classList.remove('visible');
        //console.log(`Ship ${clickedShipId} deactivated. Configuration UI reset.`);
        shipToDelete.remove();
      } else if (editButton) {
        if (clickedObjectDiv) {
          // Pass the ID of the main ship object-div to editShipName
          editShipName(clickedObjectDiv.id);
        }
      }
    });

    //handleChoice Hull
    //check for clicks on section-hull, if(dataType) write dataType to selected ship object
    sectionHull1.addEventListener('click', (event) => {
      const clickedElement = event.target.closest('.choice');
      if (clickedElement) {
        const shipData = player.ships[player.currentActiveShip]; // Reference to the active ship's shipObject

        // Get the hull data corresponding to the clicked element
        const chosenHull = hulls.find(hull => hull.name === clickedElement.id);


        if (!chosenHull) {
          console.error("Hull data not found for:", clickedElement.id);
          return; // Exit if hull data isn't found
        }

        // Check if the clicked hull is already active (i.e., being deselected)
        if (clickedElement.classList.contains('active')) {
          // 4. chosen hull deactivates
          clickedElement.classList.remove('active');

          // 5. chosen hull unwrite from currently active ship
          // Refund credits for the hull being deselected
          if (shipData.hull && shipData.hull.name === chosenHull.name) {
            player.credits += (hullDiscount(chosenHull) * (chosenHull.cost + sponsorHullDiscount(chosenHull))); //discount for second hull
            console.log(hullDiscount(chosenHull));
            player.crewNum -= chosenHull.maxCrew;
            shipData.hull = null; // Remove the hull from the ship
            updateWeaponSlot();



          }
        } else {
          // Handle activation: Make this the only active hull choice in the section

          // Find the parent container that groups these choices
          const parentContainer = clickedElement.closest('.section');
          if (parentContainer) {
            const allChoicesInGroup = parentContainer.querySelectorAll('.choice');

            allChoicesInGroup.forEach(choice => {
              if (choice.classList.contains('active') && choice !== clickedElement) {
                choice.classList.remove('active');
                // If there was a previously active hull, refund its cost
                const prevHullName = choice.id.replace('choice-', '');
                const prevHull = hulls.find(hull => hull.name === prevHullName);
                if (prevHull && shipData.hull && shipData.hull.name === prevHull.name) {
                  player.credits += prevHull.cost;
                  player.crewNum -= prevHull.maxCrew;
                }
              }
            });
          }

          // 1. chosen hull becomes active
          clickedElement.classList.add('active');

          // Deduct cost and assign new hull
          // Ensure player has enough credits OR handle insufficient funds

          // 2. chosen hull writes on currently active ship
          shipData.hull = chosenHull; //set ship's hull to chosen hull
          addHullToShip(shipData); //assign remaining weapon slot by asking hull

          //update slot
          document.getElementById("spinal-credits-display").innerHTML = `Remaining Spinal Slot: ` + formatterIntl.format(shipData.spinalSlot);
          document.getElementById("broadside-credits-display").innerHTML = `Remaining Broadside Slot: ` + formatterIntl.format(shipData.broadsideSlot);
          document.getElementById("pointdefence-credits-display").innerHTML = `Remaining Point Defence Slot: ` + formatterIntl.format(shipData.pointDefenceSlot);

          player.credits -= (hullDiscount(chosenHull) * (chosenHull.cost + sponsorHullDiscount(chosenHull))); //discount for second hull
          player.crewNum += chosenHull.maxCrew;

          console.log(hullDiscount(chosenHull));

        }
        // You might want to update the UI to display the current credits and ship hull here
        document.getElementById("credits-display").innerHTML = `Credits: ` + formatterIntl.format(player.credits);
        document.getElementById("crew-display").innerHTML = `Required Crew: ` + formatterIntl.format(player.crewNum);
      }
    });

    //handlechoice for subsystems
    sectionSubsystem1.addEventListener('click', (event) => {

      const clickedShipAI = event.target.closest('.shipAI');
      console.log(clickedShipAI);
      const clickedEnergy = event.target.closest('.energy');
      const clickedShield = event.target.closest('.shield');

      const shipData = player.ships[player.currentActiveShip];

      if (clickedShipAI) {
        const chosenShipAI = shipAI.find(subsystem => subsystem.name === clickedShipAI.id);
        if (clickedShipAI.classList.contains('active')) {
          // Deactivate chosen subsystem
          clickedShipAI.classList.remove('active');
          if (shipData.shipAI && shipData.shipAI.name === chosenShipAI.name) {
            player.credits += chosenShipAI.cost;
            shipData.shipAI = null; // Remove the subsystem from the ship
          }
        } else {
          // Handle activation: Make this the only active subsystem choice in the section

          // Find the parent container that groups these choices
          const parentContainer = clickedShipAI.closest('.section');
          if (parentContainer) {
            const allChoicesInGroup = parentContainer.querySelectorAll('.shipAI');
            allChoicesInGroup.forEach(choice => {
              if (choice.classList.contains('active') && choice !== clickedShipAI) {
                choice.classList.remove('active');
                // If there was a previously active subsystem, refund its cost
                const prevshipAIName = choice.id;
                const prevshipAI = shipAI.find(subsystem => subsystem.name === prevshipAIName);
                if (prevshipAI && shipData.shipAI && shipData.shipAI.name === prevshipAI.name) {
                  player.credits += prevshipAI.cost;
                }
              }
            });
            clickedShipAI.classList.add('active');

            // Deduct cost and assign new subsystem
            shipData.shipAI = chosenShipAI;
            player.credits -= chosenShipAI.cost;
          }
        }

        // Update the UI to display the current credits
        document.getElementById("credits-display").innerHTML = `Credits: ` + formatterIntl.format(player.credits);

      } else if (clickedEnergy) {
        const chosenEnergy = energy.find(subsystem => subsystem.name === clickedEnergy.id);
        if (clickedEnergy.classList.contains('active')) {
          // Deactivate chosen energy
          clickedEnergy.classList.remove('active');
          player.credits += chosenEnergy.cost;
          let indexEnergy1 = shipData.energy.findIndex(energi => energi.id === chosenEnergy.id);
          shipData.energy.splice(indexEnergy1, 1);

        } else {
          clickedEnergy.classList.add('active');
          shipData.energy.push(chosenEnergy);
          player.credits -= chosenEnergy.cost;
        }
        document.getElementById("credits-display").innerHTML = `Credits: ` + formatterIntl.format(player.credits);

      } else if (clickedShield) {
        const chosenShield = shield.find(subsystem => subsystem.name === clickedShield.id);
        if (clickedShield.classList.contains('active')) {
          // Deactivate chosen shield
          clickedShield.classList.remove('active');
          if (shipData.shield && shipData.shield.name === chosenShield.name) {
            player.credits += chosenShield.cost;
            shipData.shield = null;
          }
        } else {
          // Handle activation: Make this the only active shield choice
          const parentContainer = clickedShield.closest('.section');
          if (parentContainer) {
            const allChoicesInGroup = parentContainer.querySelectorAll('.shield');
            allChoicesInGroup.forEach(choice => {
              if (choice.classList.contains('active') && choice !== clickedShield) {
                choice.classList.remove('active');
                const prevShieldName = choice.id;
                const prevShield = shield.find(subsystem => subsystem.name === prevShieldName);
                if (prevShield && shipData.shield && shipData.shield.name === prevShield.name) {
                  player.credits += prevShield.cost;
                }
              }
            });
            clickedShield.classList.add('active');
            shipData.shield = chosenShield;
            player.credits -= chosenShield.cost;
          }
        }
        document.getElementById("credits-display").innerHTML = `Credits: ` + formatterIntl.format(player.credits);
      }
    });

    sectionMod1.addEventListener('click', (event) => {
      const clickedElement = event.target.closest('.mod');
      if (clickedElement) {
        const shipData = player.ships[player.currentActiveShip];
        const chosenMod = mods.find(mod => mod.name === clickedElement.id);

        if (clickedElement.classList.contains('active')) {
          clickedElement.classList.remove('active');
          let tempModIndex1 = shipData.mods.findIndex(mod => mod.name === chosenMod.name);
          player.credits += chosenMod.cost;
          shipData.mods.splice(tempModIndex1, 1);

        } else {
          clickedElement.classList.add('active');
          shipData.mods.push(chosenMod);
          player.credits -= chosenMod.cost;
        }
        document.getElementById("credits-display").innerHTML = `Credits: ` + formatterIntl.format(player.credits);
      }
    });

    sectionIndustrial1.addEventListener('click', (event) => {
      const clickedElement = event.target.closest('.industrial');
      const shipData = player.ships[player.currentActiveShip];

      if (clickedElement) {
        const chosenIndustrial = industrial.find(industry => industry.name === clickedElement.id);
        console.log(clickedElement, chosenIndustrial);

        if (clickedElement.classList.contains('active')) {
          clickedElement.classList.remove('active');
          if (player.choices.includes('choose-beatrice')) {
            player.credits += (chosenIndustrial.cost - 1000000);
          }
          else {
            player.credits += chosenIndustrial.cost;
          }
          let tempIndustryIndex1 = shipData.industrials.indexOf(chosenIndustrial);
          shipData.industrials.splice(tempIndustryIndex1, 1);

        } else {
          clickedElement.classList.add('active');
          shipData.industrials.push(chosenIndustrial);
          if (player.choices.includes('choose-beatrice')) {
            player.credits -= (chosenIndustrial.cost - 1000000);
          }
          else {
            player.credits -= chosenIndustrial.cost;
          }
        }
        document.getElementById("credits-display").innerHTML = `Credits: ` + formatterIntl.format(player.credits);
      }
    });

    sectionEwar1.addEventListener('click', (event) => {
      const clickedElement = event.target.closest('.ewar');
      if (clickedElement) {
        const shipData = player.ships[player.currentActiveShip];
        const chosenEwar = eWar.find(eWar => eWar.name === clickedElement.id);

        if (clickedElement.classList.contains('active')) {
          clickedElement.classList.remove('active');
          if (player.choices.includes('choose-io')) {
            player.credits += (chosenEwar.cost - 1000000);
          }
          else {
            player.credits += chosenEwar.cost;
          }
          let tempEwarIndex1 = shipData.eWar.indexOf(chosenEwar);
          shipData.eWar.splice(tempEwarIndex1, 1);

        } else {
          clickedElement.classList.add('active');
          shipData.eWar.push(chosenEwar);
          if (player.choices.includes('choose-io')) {
            player.credits -= (chosenEwar.cost - 1000000);
          }
          else {
            player.credits -= chosenEwar.cost;
          }
        }
        document.getElementById("credits-display").innerHTML = `Credits: ` + formatterIntl.format(player.credits);
      }
    });

    sectionRoom1.addEventListener('click', (event) => {
      const clickedElement = event.target.closest('.room');
      if (clickedElement) {
        const shipData = player.ships[player.currentActiveShip];
        const chosenRoom = rooms.find(room => room.name === clickedElement.id);

        if (player.ships[player.currentActiveShip].extraRooms > 0) { //check for available rooms

          if (clickedElement.classList.contains('active')) {
            clickedElement.classList.remove('active');
            if (player.choices.includes('choose-hammerhead')) {
              player.credits += (chosenRoom.cost - 1000000);
            } else {
              player.credits += chosenRoom.cost;
            }
            let tempRoomIndex1 = shipData.rooms.indexOf(chosenRoom);
            shipData.rooms.splice(tempRoomIndex1, 1);
          } else {
            clickedElement.classList.add('active');
            shipData.rooms.push(chosenRoom);
            if (player.choices.includes('choose-hammerhead')) {
              player.credits -= (chosenRoom.cost - 1000000);
            } else {
              player.credits -= chosenRoom.cost;
            }
          }
          document.getElementById("credits-display").innerHTML = `Credits: ` + formatterIntl.format(player.credits);
        }
        else {
          alert('No remaining room slot!');
        }
      }
    });

    sectionWeapon1.addEventListener('click', (event) => {
      const incrementButton = event.target.closest('.increment-button');
      const decrementButton = event.target.closest('.decrement-button');
      let selectElement = event.target.closest('div').querySelector('select');
      console.log(selectElement);
      const numberSpan = event.target.closest('div').querySelector('.number-span');
      const weaponChoice1 = weapons.find(weapon => weapon.name === event.target.closest('.choice').id);
      console.log(weaponChoice1);
      const currentActiveShip = player.currentActiveShip;

      let weaponChoice2 = {
        name: weaponChoice1.name,
        quantity: 1,
      }

      if (incrementButton) {
        let allowIncrement = false;
        //if there is a slot remaining, allow increment
        if (selectElement.value === 'point-defence' && player.ships[currentActiveShip].pointDefenceSlot > 0) {
          allowIncrement = true;
          player.ships[currentActiveShip].pointDefenceSlot -= 1;

        } else if (selectElement.value === 'broadside' && player.ships[currentActiveShip].broadsideSlot > 0) {
          allowIncrement = true;
          player.ships[currentActiveShip].broadsideSlot -= 1;
        } else if (selectElement.value === 'spinal' && player.ships[currentActiveShip].spinalSlot > 0) {
          allowIncrement = true;
          player.ships[currentActiveShip].spinalSlot -= 1;
        } else {
          alert('No remaining slot for this weapon type!');
        }

        //
        if (allowIncrement) {
          let currentNum = parseInt(numberSpan.textContent);
          numberSpan.textContent = currentNum + 1;
          //check if weapon already exists, if so increment quantity instead of adding new object
          if (player.ships[currentActiveShip].weaponChoice.find(wc => wc.name === weaponChoice1.name)) {
            player.ships[currentActiveShip].weaponChoice.find(wc => wc.name === weaponChoice1.name).quantity += 1;
            player.credits -= ((weaponChoice1.cost - weaponDiscount(weaponChoice1)) / 2); //apply qty discount for weapon purchase
          } else {
            player.ships[currentActiveShip].weaponChoice.push(weaponChoice2);
            player.credits -= (weaponChoice1.cost - weaponDiscount(weaponChoice1));
          }
        }
      }

      //Decrement weapon count
      if (decrementButton) {
        let allowDecrement = false;
        if (numberSpan.textContent <= 0) {
          alert('No more weapon to decrement!');
          numberSpan.textContent = 0;
        } else {
          if (selectElement.value === 'point-defence') {
            allowDecrement = true;
            player.ships[currentActiveShip].pointDefenceSlot += 1;
          } else if (selectElement.value === 'broadside') {
            allowDecrement = true;
            player.ships[currentActiveShip].broadsideSlot += 1;
          } else if (selectElement.value === 'spinal') {
            allowDecrement = true;
            player.ships[currentActiveShip].spinalSlot += 1;
          }
        }
        if (allowDecrement) {
          let currentNum = parseInt(numberSpan.textContent);
          numberSpan.textContent = currentNum - 1;
          if (player.ships[currentActiveShip].weaponChoice.find(wc => wc.name === weaponChoice1.name).quantity > 1) {
            player.ships[currentActiveShip].weaponChoice.find(wc => wc.name === weaponChoice1.name).quantity -= 1;
            player.credits += ((weaponChoice1.cost - weaponDiscount(weaponChoice1)) / 2);
          } else {
            let indexToRemove = player.ships[currentActiveShip].weaponChoice.findIndex(wc => wc.name === weaponChoice1.name);
            player.ships[currentActiveShip].weaponChoice.splice(indexToRemove, 1);
            player.credits += (weaponChoice1.cost - weaponDiscount(weaponChoice1));
          }
        }
      }
      document.getElementById("credits-display").innerHTML = `Credits: ` + formatterIntl.format(player.credits);
      updateWeaponSlot();
    });

    sectionCrew1.addEventListener('click', (event) => {
      const incrementButton2 = event.target.closest('.increment-button');
      const decrementButton2 = event.target.closest('.decrement-button');
      let selectElement2 = event.target.closest('div').querySelector('select');
      let numberSpan2 = event.target.closest('div').querySelector('.number-span');
      const archetypeChoice1 = archetype.find(archecrew => archecrew.title === event.target.closest('.archetype').id);
      const currentActiveShip = player.currentActiveShip;

      let archetypeChoice2 = {
        title: archetypeChoice1.title,
        quantity: 1,
      }

      //if player sponsor is blackhawk, reduce 100k for each operator crew
      let isBlackhawk = 1;
      if (player.choices.includes('choose-blackhawk')) {
        switch (archetypeChoice1.title) {
          case 'Seraphs':
          case 'Navy Soldiers':
          case 'Core Ring Mercs':
          case 'Dustkeepers':
          case 'Outer Ring Mercs':
          case 'Blackhawk Elites':
          case 'Talons':
          case 'Navy Operators':
          case 'Gazer Operators':
            isBlackhawk = 100000;
            break;
        }
      }
      //increment weapon count, if there is a slot remaining, allow increment
      if (incrementButton2) {
        let allowIncrement2 = false;
        //if there is a slot remaining, allow increment
        switch (selectElement2.value) {
          case 'x1':
            if (player.crewNum > 0) {
              allowIncrement2 = true;
              player.crewNum -= 1;
              numberSpan2.textContent = parseInt(numberSpan2.textContent) + 1;
              player.credits -= (archetypeChoice1.cost[selectElement2.value] - isBlackhawk);
              if (player.crew.find(ac => ac.title === archetypeChoice1.title)) { //if crew already exists, increment quantity instead of adding new object
                player.crew.find(ac => ac.title === archetypeChoice1.title).quantity += 1;
              }
              else {
                player.crew.push(archetypeChoice2);
              }

            }
            break;
          case 'x5':
            if (player.crewNum > 4) {
              allowIncrement2 = true;
              player.crewNum -= 5;
              numberSpan2.textContent = parseInt(numberSpan2.textContent) + 5;
              player.credits -= (archetypeChoice1.cost[selectElement2.value] - 5 * isBlackhawk);
              if (player.crew.find(ac => ac.title === archetypeChoice1.title)) {
                player.crew.find(ac => ac.title === archetypeChoice1.title).quantity += 5;
              }
              else {
                player.crew.push(archetypeChoice2);
                player.crew.find(ac => ac.title === archetypeChoice1.title).quantity = 5;
              }
            }
            break;
          case 'x10':
            if (player.crewNum > 9) {
              allowIncrement2 = true;
              player.crewNum -= 10;
              numberSpan2.textContent = parseInt(numberSpan2.textContent) + 10;
              player.credits -= (archetypeChoice1.cost[selectElement2.value] - 10 * isBlackhawk);
              if (player.crew.find(ac => ac.title === archetypeChoice1.title)) {
                player.crew.find(ac => ac.title === archetypeChoice1.title).quantity += 10;
              }
              else {
                player.crew.push(archetypeChoice2);
                player.crew.find(ac => ac.title === archetypeChoice1.title).quantity = 10;
              }
            }
            break;
          case 'x50':
            if (player.crewNum > 49) {
              allowIncrement2 = true;
              player.crewNum -= 50;
              numberSpan2.textContent = parseInt(numberSpan2.textContent) + 50;
              player.credits -= (archetypeChoice1.cost[selectElement2.value] - 50 * isBlackhawk);
              if (player.crew.find(ac => ac.title === archetypeChoice1.title)) {
                player.crew.find(ac => ac.title === archetypeChoice1.title).quantity += 50;
              }
              else {
                player.crew.push(archetypeChoice2);
                player.crew.find(ac => ac.title === archetypeChoice1.title).quantity = 50;
              }
            }
            break;
          case 'x100':
            if (player.crewNum > 99) {
              allowIncrement2 = true;
              player.crewNum -= 100;
              numberSpan2.textContent = parseInt(numberSpan2.textContent) + 100;
              player.credits -= (archetypeChoice1.cost[selectElement2.value] - 100 * isBlackhawk);
              if (player.crew.find(ac => ac.title === archetypeChoice1.title)) {
                player.crew.find(ac => ac.title === archetypeChoice1.title).quantity += 100;
              }
              else {
                player.crew.push(archetypeChoice2);
                player.crew.find(ac => ac.title === archetypeChoice1.title).quantity = 100;
              }
            }
            break;
          case 'x500':
            if (player.crewNum > 499) {
              allowIncrement2 = true;
              player.crewNum -= 500;
              numberSpan2.textContent = parseInt(numberSpan2.textContent) + 500;
              player.credits -= (archetypeChoice1.cost[selectElement2.value] - 500 * isBlackhawk);
              if (player.crew.find(ac => ac.title === archetypeChoice1.title)) {
                player.crew.find(ac => ac.title === archetypeChoice1.title).quantity += 500;
              }
              else {
                player.crew.push(archetypeChoice2);
                player.crew.find(ac => ac.title === archetypeChoice1.title).quantity = 500;
              }
            }
            break;
          default:
            alert('no more space for crew members');
            break;
        }
        document.getElementById("crew-display").innerHTML = `Required Crew: ` + formatterIntl.format(player.crewNum);
        document.getElementById("credits-display").innerHTML = `Credits: ` + formatterIntl.format(player.credits);

      }
      //decrement weapon count, if greater than decrement amount, allow decrement
      if (decrementButton2) {
        let allowDecrement2 = false;
        //if there is a slot remaining, allow increment
        switch (selectElement2.value) {
          case 'x1':
            if (numberSpan2.textContent > 0) {
              allowDecrement2 = true;
              player.crewNum += 1;
              numberSpan2.textContent = parseInt(numberSpan2.textContent) - 1;
              player.credits += (archetypeChoice1.cost[selectElement2.value] - isBlackhawk);
              if (player.crew.find(ac => ac.title === archetypeChoice1.title).quantity > 1) { //if crew quantity >1, decrement quantity instead of removing object
                player.crew.find(ac => ac.title === archetypeChoice1.title).quantity -= 1;
              }
              else {
                let indexToRemove2 = player.crew.findIndex(ac => ac.title === archetypeChoice1.title);
                player.crew.splice(indexToRemove2, 1);
              }
            }
            break;
          case 'x5':
            if (numberSpan2.textContent > 4) {
              allowDecrement2 = true;
              player.crewNum += 5;
              numberSpan2.textContent = parseInt(numberSpan2.textContent) - 5;
              player.credits += (archetypeChoice1.cost[selectElement2.value] - 5 * isBlackhawk);
              if (player.crew.find(ac => ac.title === archetypeChoice1.title).quantity > 5) { //if crew quantity >5, decrement quantity instead of removing object
                player.crew.find(ac => ac.title === archetypeChoice1.title).quantity -= 5;
              }
              else {
                let indexToRemove2 = player.crew.findIndex(ac => ac.title === archetypeChoice1.title);
                player.crew.splice(indexToRemove2, 1);
              }
            }
            break;
          case 'x10':
            if (numberSpan2.textContent > 9) {
              allowDecrement2 = true;
              player.crewNum += 10;
              numberSpan2.textContent = parseInt(numberSpan2.textContent) - 10;
              player.credits += (archetypeChoice1.cost[selectElement2.value] - 10 * isBlackhawk);
              if (player.crew.find(ac => ac.title === archetypeChoice1.title).quantity > 10) { //if crew quantity >10, decrement quantity instead of removing object
                player.crew.find(ac => ac.title === archetypeChoice1.title).quantity -= 10;
              }
              else {
                let indexToRemove2 = player.crew.findIndex(ac => ac.title === archetypeChoice1.title);
                player.crew.splice(indexToRemove2, 1);
              }
            }
            break;
          case 'x50':
            if (numberSpan2.textContent > 49) {
              allowDecrement2 = true;
              player.crewNum += 50;
              numberSpan2.textContent = parseInt(numberSpan2.textContent) - 50;
              player.credits += (archetypeChoice1.cost[selectElement2.value] - 50 * isBlackhawk);
              if (player.crew.find(ac => ac.title === archetypeChoice1.title).quantity > 50) { //if crew quantity >50, decrement quantity instead of removing object
                player.crew.find(ac => ac.title === archetypeChoice1.title).quantity -= 50;
              }
              else {
                let indexToRemove2 = player.crew.findIndex(ac => ac.title === archetypeChoice1.title);
                player.crew.splice(indexToRemove2, 1);
              }
            }
            break;
          case 'x100':
            if (numberSpan2.textContent > 99) {
              allowDecrement2 = true;
              player.crewNum += 100;
              numberSpan2.textContent = parseInt(numberSpan2.textContent) - 100;
              player.credits += (archetypeChoice1.cost[selectElement2.value] - 100 * isBlackhawk);
              if (player.crew.find(ac => ac.title === archetypeChoice1.title).quantity > 100) { //if crew quantity >100, decrement quantity instead of removing object
                player.crew.find(ac => ac.title === archetypeChoice1.title).quantity -= 100;
              }
              else {
                let indexToRemove2 = player.crew.findIndex(ac => ac.title === archetypeChoice1.title);
                player.crew.splice(indexToRemove2, 1);
              }
            }
            break;
          case 'x500':
            if (numberSpan2.textContent > 499) {
              allowDecrement2 = true;
              player.crewNum += 500;
              numberSpan2.textContent = parseInt(numberSpan2.textContent) - 500;
              player.credits += (archetypeChoice1.cost[selectElement2.value] - 500 * isBlackhawk);
              if (player.crew.find(ac => ac.title === archetypeChoice1.title).quantity > 500) { //if crew quantity >500, decrement quantity instead of removing object
                player.crew.find(ac => ac.title === archetypeChoice1.title).quantity -= 500;
              }
              else {
                let indexToRemove2 = player.crew.findIndex(ac => ac.title === archetypeChoice1.title);
                player.crew.splice(indexToRemove2, 1);
              }
            }
            break;
          default:
            break;
        }
        document.getElementById("crew-display").innerHTML = `Required Crew: ` + formatterIntl.format(player.crewNum);
        document.getElementById("credits-display").innerHTML = `Credits: ` + formatterIntl.format(player.credits);
      }
    });

    //scroll to top button
    const scrollButton = document.getElementById('scrollButton');
    const targetSection = document.getElementById('section-mainpanel');
    const openModalButton = document.getElementById('choice-summary'); //for popup
    const closeModalButton = document.getElementById('closeModalButton');
    const modalOverlay = document.getElementById('modalOverlay');
    //const frameCardContainer = document.getElementById('frameCard');
    //const hullCardList = document.getElementById('hullCardList');

    // Add a click event listener to the scroll button
    scrollButton.addEventListener('click', () => {
      // Use the scrollIntoView() method to scroll to the target section
      // The 'smooth' behavior makes the transition animated
      targetSection.scrollIntoView({ behavior: 'smooth' });
    });

    // Function to open the modal
    openModalButton.addEventListener('click', () => {
      updateSummary();
      modalOverlay.classList.add('visible');
    });

    // Function to close the modal
    closeModalButton.addEventListener('click', () => {
      modalOverlay.classList.remove('visible');
    });

    // Close modal when clicking outside of it
    modalOverlay.addEventListener('click', (event) => {
      if (event.target === modalOverlay) {
        modalOverlay.classList.remove('visible');
      }
    });



  </script>


</body>

<footer>

</footer>

</html>